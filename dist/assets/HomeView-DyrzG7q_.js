import{d as Kt,c as d,a as e,t as v,b as g,n as Lt,e as Wt,F as $,r as F,f as x,T as fe,w as lt,g as f,h as D,o as i,i as G,j as rt,_ as he,u as _e,k as me,l as Z,m as ye,p as L,q as be,s as I,v as $t,x as ge,y as jt,z as xe,L as qt,A as we,B as ke,C as De}from"./index-DHrrxsNC.js";import{_ as M}from"./Skeleton.vue_vue_type_script_setup_true_lang-CR2pGYDY.js";const Ce={class:"daily-posted-chart"},$e={class:"daily-posted-chart__header"},Se={class:"daily-posted-chart__title-row"},Me={class:"daily-posted-chart__title"},Te={key:0,class:"daily-posted-chart__subtitle daily-posted-chart__subtitle--muted"},je={key:1,class:"daily-posted-chart__subtitle"},Ne=["viewBox"],Be={class:"daily-posted-chart__grid"},Re=["x1","y1","x2","y2"],Le={class:"daily-posted-chart__bars"},Pe=["d","fill","onMouseenter"],Ae={class:"daily-posted-chart__axis"},Ve=["x","y"],Ie={class:"daily-posted-chart__axis daily-posted-chart__axis--x"},Ge=["x","y"],Fe={class:"daily-posted-chart__tooltip-date"},Oe={class:"daily-posted-chart__tooltip-value"},He={key:1,class:"daily-posted-chart__empty"},ze={class:"daily-posted-chart__empty-text"},Nt=6,We=6,Et=24,qe=Kt({__name:"DailyPostedChart",props:{data:{},currency:{default:"GHS"},totalLabel:{},xAxisMode:{default:"date"},dateLabel:{},chartType:{default:"posted"},chartWidth:{default:360},chartHeight:{default:60}},setup(Pt){const N=Pt,tt=f(()=>N.xAxisMode==="vendor"),J=f(()=>N.chartType==="approved"?"Approved":"Posted"),it=f(()=>J.value.toLowerCase()),B=f(()=>{var u;if(!tt.value)return`${J.value} by day`;const l=(u=N.dateLabel)==null?void 0:u.trim();return l&&l.toLowerCase()!=="today"?`${J.value} on ${l} by vendor`:`${J.value} today by vendor`}),bt=D(null),P=D(-1),gt=f(()=>N.chartHeight),T=f(()=>N.chartWidth),C={top:4,right:8,bottom:20,left:36},E=f(()=>{const l=m.value.length;if(l===0)return T.value;const u=T.value-C.left-C.right,p=l*Et+(l-1)*Nt;return p>u?C.left+C.right+p:T.value}),et=f(()=>E.value-C.right),b=f(()=>gt.value-C.bottom),m=f(()=>N.xAxisMode==="vendor"?N.data.slice(0,10):N.data.slice().sort((u,p)=>u.date.localeCompare(p.date)).slice(-7)),S=f(()=>{if(m.value.length===0)return 0;const l=m.value.map(p=>Number(p.total)).filter(p=>Number.isFinite(p)&&p>=0);if(l.length===0)return 0;const u=Math.max(...l);return u>0?u:0}),A=f(()=>m.value.reduce((l,u)=>l+u.total,0)),R=f(()=>{const l=S.value;if(l<=0)return[0];const u=l<=5?1:l<=20?5:l<=100?20:l<=500?100:Math.ceil(l/5/100)*100,p=[];for(let _=0;_<=l;_+=u)p.push(_);return p[p.length-1]<l&&p.push(l),p});function j(l){if(S.value<=0)return b.value;const u=b.value-C.top;return b.value-l/S.value*u}const at=f(()=>{const l=m.value.length;if(l===0)return 0;const u=et.value-C.left-(l-1)*Nt;return Math.max(Et,u/l)});function ft(l){const u=m.value.length;if(u===0)return 0;const p=u*at.value+(u-1)*Nt;return C.left+(et.value-C.left-p)/2+at.value/2+l*(at.value+Nt)}function ht(l){if(l.total>0)return!1;const u=l.totalsByCurrency;return u?Object.values(u).some(p=>p>0):!1}function O(l,u){const p=ft(u)-at.value/2;let _=S.value>0?l.total/S.value*(b.value-C.top):0;_<.5&&ht(l)&&(_=Math.min(10,(b.value-C.top)*.2));const w=b.value-_;if(_<.5)return"";const ot=Math.min(We,at.value/2,_/2),Q=at.value;return`M ${p} ${w+ot} Q ${p} ${w} ${p+ot} ${w} L ${p+Q-ot} ${w} Q ${p+Q} ${w} ${p+Q} ${w+ot} L ${p+Q} ${b.value} L ${p} ${b.value} Z`}function St(l){return l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"k":String(Math.round(l))}function Mt(l){return S.value<=100&&l===Math.round(l)?String(l):St(l)}function dt(l){const u=new Date(l+"T12:00:00");return isNaN(u.getTime())?l:`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][u.getMonth()]} ${u.getDate()}`}function _t(l){const u=new Date(l+"T12:00:00");return isNaN(u.getTime())?l:u.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function Tt(l){const u=l.totalsByCurrency;return u&&Object.keys(u).length>0?Object.entries(u).map(([p,_])=>`${p} ${rt(_)}`).join(" · "):`${N.currency} ${rt(l.total)}`}function mt(l,u){return l.label??l.date??`i-${u}`}function xt(l){const u=l.label??dt(l.date);return N.xAxisMode==="vendor"&&u.length>12?u.slice(0,10)+"…":u}const Bt=f(()=>E.value<=T.value?{}:{width:`${E.value/T.value*100}%`}),Rt=f(()=>{if(P.value<0||!bt.value)return{};const l=bt.value,u=l.getBoundingClientRect(),p=ft(P.value),w=E.value/T.value*u.width/E.value,ot=p*w-l.scrollLeft,Q=110;let K=ot-Q/2;return K=Math.max(6,Math.min(K,u.width-Q-6)),{left:`${K}px`,top:"4px"}});return(l,u)=>(i(),d("div",Ce,[e("header",$e,[e("div",Se,[e("h3",Me,v(B.value),1)]),A.value===0&&m.value.length===0?(i(),d("p",Te,v(tt.value?`No vendors ${it.value} today`:`No ${it.value} amounts to show`),1)):m.value.length>0?(i(),d("p",je,v(m.value.length)+" "+v(tt.value?"vendor":"day")+v(m.value.length===1?"":"s")+v(tt.value?` ${it.value} today`:" with activity"),1)):g("",!0)]),m.value.length>0?(i(),d("div",{key:0,class:"daily-posted-chart__wrap",ref_key:"chartWrapRef",ref:bt},[e("div",{class:"daily-posted-chart__scroll",style:Lt(Bt.value)},[(i(),d("svg",{class:"daily-posted-chart__svg",viewBox:`0 0 ${E.value} ${gt.value}`,preserveAspectRatio:"xMinYMid meet","aria-hidden":"true"},[u[1]||(u[1]=Wt('<defs data-v-c8ef8ac5><linearGradient id="daily-posted-bar-fill" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(52, 211, 153, 0.5)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(134, 239, 172, 0.92)" data-v-c8ef8ac5></stop></linearGradient><linearGradient id="daily-posted-bar-fill-hover" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(52, 211, 153, 0.65)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(167, 243, 208, 1)" data-v-c8ef8ac5></stop></linearGradient><linearGradient id="daily-posted-bar-other" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(251, 191, 36, 0.5)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(253, 224, 71, 0.9)" data-v-c8ef8ac5></stop></linearGradient></defs>',1)),e("g",Be,[(i(!0),d($,null,F(R.value,(p,_)=>(i(),d("line",{key:"grid-"+_,x1:C.left,y1:j(p),x2:et.value,y2:j(p),class:"daily-posted-chart__grid-line"},null,8,Re))),128))]),e("g",Le,[(i(!0),d($,null,F(m.value,(p,_)=>(i(),d("path",{key:mt(p,_),d:O(p,_),class:G(["daily-posted-chart__bar",{"daily-posted-chart__bar--hover":P.value===_,"daily-posted-chart__bar--other":ht(p)}]),style:Lt({animationDelay:`${_*.03}s`}),fill:ht(p)?"url(#daily-posted-bar-other)":"url(#daily-posted-bar-fill)",onMouseenter:w=>P.value=_,onMouseleave:u[0]||(u[0]=w=>P.value=-1)},null,46,Pe))),128))]),e("g",Ae,[(i(!0),d($,null,F(R.value,(p,_)=>(i(),d("text",{key:"y-"+_,x:C.left-6,y:j(p)+3,class:"daily-posted-chart__axis-text","text-anchor":"end"},v(Mt(p)),9,Ve))),128))]),e("g",Ie,[(i(!0),d($,null,F(m.value,(p,_)=>(i(),d("text",{key:"x-"+mt(p,_),x:ft(_),y:gt.value-C.bottom+10,class:"daily-posted-chart__axis-text daily-posted-chart__axis-text--x","text-anchor":"middle"},v(xt(p)),9,Ge))),128))])],8,Ne))],4),x(fe,{name:"daily-posted-tooltip"},{default:lt(()=>[P.value>=0&&m.value[P.value]?(i(),d("div",{key:0,class:"daily-posted-chart__tooltip",style:Lt(Rt.value)},[e("span",Fe,v(tt.value?m.value[P.value].label??m.value[P.value].date:_t(m.value[P.value].date)),1),e("span",Oe,v(Tt(m.value[P.value])),1)],4)):g("",!0)]),_:1})],512)):(i(),d("div",He,[u[2]||(u[2]=Wt('<div class="daily-posted-chart__empty-icon" aria-hidden="true" data-v-c8ef8ac5><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c8ef8ac5><path d="M3 3v18h18" data-v-c8ef8ac5></path><path d="M7 16v-5h4v5" data-v-c8ef8ac5></path><path d="M13 16V9h4v7" data-v-c8ef8ac5></path></svg></div>',1)),e("p",ze," No "+v(it.value)+" entries with dates yet ",1)]))]))}}),Ee=he(qe,[["__scopeId","data-v-c8ef8ac5"]]),Ke={class:"content-area flex flex-col flex-1 min-h-0 w-full max-w-[1600px] mx-auto px-4 py-5 md:px-6 md:py-6 min-h-[400px]"},Ye={class:"flex flex-wrap items-end justify-between gap-4 mb-8"},Xe={key:0,class:"flex flex-col gap-10"},Je={class:"flex flex-col gap-3"},Qe={class:"flex items-center gap-2 px-4"},Ue={class:"list-none p-0 m-0 flex flex-col gap-2"},Ze={class:"flex flex-col gap-3"},ta={class:"flex items-center gap-2 px-4"},ea={class:"list-none p-0 m-0 flex flex-col gap-2"},aa={key:1,class:"rounded-2xl bg-red-500/10 border border-red-500/20 px-5 py-4 text-[var(--label-size)] text-red-300"},oa={key:2,class:"glass rounded-2xl p-12 text-center"},sa={class:"text-[var(--color-text-muted)] mb-3"},na={key:1,class:"text-[var(--color-text-muted)] text-sm"},la={key:3,class:"flex flex-col gap-10"},ra={class:"stats-dashboard"},ia={class:"stats-dashboard__greeting"},da={class:"stats-dashboard__kpis"},ua={class:"stat-card stat-card--draft"},ca={class:"stat-card__value"},va={class:"stat-card stat-card--posted"},pa={class:"stat-card__value"},fa={key:0,class:"stat-card__arrow","aria-hidden":"true"},ha=["disabled","aria-label"],_a={class:"stat-card__value"},ma={key:0,class:"stat-card__action-icon","aria-hidden":"true"},ya={class:"stat-card stat-card--approved"},ba={class:"stat-card__value"},ga={class:"stats-dashboard__charts"},xa={class:"stat-card__value"},wa={class:"daily-chart-section daily-chart-section--with-calendar"},ka={class:"chart-calendar"},Da={class:"chart-calendar__header"},Ca={class:"chart-calendar__month"},$a={class:"chart-calendar__weekdays"},Sa={class:"chart-calendar__grid"},Ma=["disabled","onClick"],Ta={class:"chart-calendar__chart"},ja={class:"daily-chart-section__toggle"},Na={class:"home-lists"},Ba={class:"search-and-tabs"},Ra={class:"search-bar search-bar--compact"},La=["placeholder","aria-label"],Pa={key:0,class:"search-bar__hint"},Aa={key:0},Va={key:2},Ia={key:4},Ga={key:6},Fa={key:7,class:"search-bar__hint-switch"},Oa={class:"segment-control",role:"tablist","aria-label":"List by status"},Ha={class:"segment-control__badge"},za={class:"segment-control__badge"},Wa={class:"segment-control__badge"},qa={class:"segment-control__badge"},Ea={id:"panel-draft",role:"tabpanel","aria-labelledby":"tab-draft",class:"flex flex-col gap-3"},Ka={key:0,class:"flex flex-wrap items-center gap-3 rounded-2xl border border-orange-500/40 bg-orange-500/10 px-4 py-3"},Ya={key:1,class:"list-view--inset"},Xa=["aria-label","onClick"],Ja={key:0,class:"h-3.5 w-3.5",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},Qa={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},Ua={class:"list-row__meta"},Za={class:"list-row__meta-col"},to=["title"],eo={class:"list-row__meta-col"},ao=["title"],oo={class:"list-row__meta-col list-row__meta-col--total"},so={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},no={key:2,class:"pagination"},lo=["disabled"],ro={class:"pagination__label"},io=["disabled"],uo={key:3,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},co={id:"panel-posted",role:"tabpanel","aria-labelledby":"tab-posted",class:"flex flex-col gap-3"},vo={key:0,class:"list-view--inset"},po={class:"flex min-w-0 items-center gap-2"},fo={class:"font-medium text-[var(--color-text)] truncate"},ho={class:"list-row__meta"},_o={class:"list-row__meta-col"},mo=["title"],yo={class:"list-row__meta-col"},bo=["title"],go={class:"list-row__meta-col list-row__meta-col--total"},xo={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},wo={key:1,class:"pagination"},ko=["disabled"],Do={class:"pagination__label"},Co=["disabled"],$o={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},So={id:"panel-rejected",role:"tabpanel","aria-labelledby":"tab-rejected",class:"flex flex-col gap-3"},Mo={key:0,class:"list-view--inset"},To={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},jo={class:"list-row__meta"},No={class:"list-row__meta-col"},Bo=["title"],Ro={class:"list-row__meta-col"},Lo=["title"],Po={class:"list-row__meta-col list-row__meta-col--total"},Ao={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},Vo={key:1,class:"pagination"},Io=["disabled"],Go={class:"pagination__label"},Fo=["disabled"],Oo={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},Ho={id:"panel-approved",role:"tabpanel","aria-labelledby":"tab-approved",class:"flex flex-col gap-3"},zo={key:0,class:"list-view--inset"},Wo={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},qo={class:"list-row__meta"},Eo={class:"list-row__meta-col"},Ko=["title"],Yo={class:"list-row__meta-col"},Xo=["title"],Jo={class:"list-row__meta-col list-row__meta-col--total"},Qo={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},Uo={key:1,class:"pagination"},Zo=["disabled"],ts={class:"pagination__label"},es=["disabled"],as={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},W=5,ns=Kt({__name:"HomeView",setup(Pt){const N=ke(),{findRecordsWithIds:tt,isConnected:J}=xe(),it=_e(),B=me(),bt=f(()=>u.value.map(a=>(a.fieldData.TransRef??"").trim()).filter(a=>a&&B.isSelected(a)));function P(a){B.addOpenEntry(a)}function gt(){const a=bt.value;a.length!==0&&(B.openBookletWithRefs(a,"draft"),N.push({name:"entry",query:{transRef:a[0]}}))}const T=D([]),C=D(0),E=D(!1),et=D(null),b=D(""),m=D("draft"),S=D(1),A=D(1),R=D(1),j=D(1),at=f(()=>{const a="Alex",t=new Date().getHours();return`${t<12?"Good morning":t<18?"Good afternoon":"Good evening"}, ${a}`}),ft=D(0),ht=D(0),O=D(0),St=D(0),Mt=D(0);function dt(a,t,s=500){const o=a.value,r=performance.now();function n(h){const c=h-r,y=Math.min(c/s,1),V=1-Math.pow(1-y,2);a.value=Math.round(o+(t-o)*V),y<1&&requestAnimationFrame(n)}requestAnimationFrame(n)}function _t(a,t){var c,y,V,k;if(!t.trim())return!0;const s=t.trim().toLowerCase(),o=String(((c=a.fieldData)==null?void 0:c.VendorName)??"").toLowerCase(),r=String(((y=a.fieldData)==null?void 0:y.VendorID)??"").toLowerCase(),n=String(((V=a.fieldData)==null?void 0:V.InvoiceNumber)??"").toLowerCase(),h=String(((k=a.fieldData)==null?void 0:k.TransRef)??"").toLowerCase();return o.includes(s)||r.includes(s)||n.includes(s)||h.includes(s)}function Tt(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.CreationTimestamp??t["Creation timestamp"]??t.creationTimestamp??t.creation_timestamp??"";return String(s??"").trim()}function mt(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.PostedDate??t["Posted date"]??t.postedDate??t.posted_date??t.Date??t.date??"";return String(s??"").trim()}function xt(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.ApprovedDate??t["Approved date"]??t.approvedDate??t.approved_date??t.Date??t.date??"";return String(s??"").trim()}function Bt(a){const t=a==null?void 0:a.fieldData;if(!t)return"Draft";const s=t.Status??t.status;if(s!=null&&String(s).trim())return String(s).trim();const o=t.Approved??t.approved,r=t.Rejected??t.rejected,n=t.Posted??t.posted;return o!=null&&String(o).trim()?"Approved":r!=null&&String(r).trim()?"Rejected":n!=null&&String(n).trim()==="Yes"?"Posted":"Draft"}function Rt(a){return[...a].sort((t,s)=>{const o=Tt(t),r=Tt(s);if(!o&&!r){const c=Number(t.recordId)||0;return(Number(s.recordId)||0)-c}if(!o)return 1;if(!r)return-1;const n=new Date(o).getTime();return new Date(r).getTime()-n})}function l(a,t){const s=a.filter(o=>Bt(o)===t);return Rt(s)}const u=f(()=>l(T.value,"Draft")),p=f(()=>l(T.value,"Posted")),_=f(()=>l(T.value,"Rejected")),w=f(()=>l(T.value,"Approved")),ot=f(()=>_.value.map(a=>(a.fieldData.TransRef??"").trim()).filter(Boolean));function Q(){const a=ot.value;if(a.length!==0){if(a.length===1){N.push({name:"entry",query:{transRef:a[0]}});return}B.openBookletWithRefs(a,"rejected"),N.push({name:"entry",query:{transRef:a[0]}})}}function K(a){if(!a||typeof a!="string")return null;const t=a.trim();if(!t)return null;const s=new Date(t);if(Number.isNaN(s.getTime()))return null;const o=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${o}-${r}-${n}`}const Yt=f(()=>{var s,o;const a=new Map;for(const r of p.value){const n=String(((s=r.fieldData)==null?void 0:s.Currency)??"").trim()||"GHS",h=K(mt(r));if(!h)continue;const c=Number((o=r.fieldData)==null?void 0:o.Total);if(!Number.isFinite(c))continue;a.has(n)||a.set(n,new Map);const y=a.get(n);y.set(h,(y.get(h)??0)+c)}const t={};return a.forEach((r,n)=>{t[n]=Array.from(r.entries()).map(([h,c])=>({date:h,total:c}))}),t}),At=f(()=>{const a=Yt.value;let t="GHS",s=0;for(const[o,r]of Object.entries(a)){const n=r.reduce((h,c)=>h+c.total,0);n>s&&(s=n,t=o)}return t});function yt(){const a=new Date,t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0");return`${t}-${s}-${o}`}const st=D(yt()),nt=D("posted"),Y=D(yt().slice(0,7)),Xt=f(()=>{const[a,t]=Y.value.split("-").map(Number),s=new Date(a,t-1,1),o=new Date(a,t,0),r=s.getDay(),n=o.getDate(),h=[];for(let k=0;k<r;k++)h.push(null);const c=yt();for(let k=1;k<=n;k++){const U=`${a}-${String(t).padStart(2,"0")}-${String(k).padStart(2,"0")}`;h.push({dateKey:U,day:k,isSelected:U===st.value,isToday:U===c})}const y=h.length%7;if(y)for(let k=0;k<7-y;k++)h.push(null);const V=[];for(let k=0;k<h.length;k+=7)V.push(h.slice(k,k+7));return V}),Jt=f(()=>{const[a,t]=Y.value.split("-").map(Number);return new Date(a,t-1,1).toLocaleDateString(void 0,{month:"long",year:"numeric"})});function Qt(){const[a,t]=Y.value.split("-").map(Number);t===1?Y.value=`${a-1}-12`:Y.value=`${a}-${String(t-1).padStart(2,"0")}`}function Ut(){const[a,t]=Y.value.split("-").map(Number);t===12?Y.value=`${a+1}-01`:Y.value=`${a}-${String(t+1).padStart(2,"0")}`}function Zt(a){st.value=a,Y.value=a.slice(0,7)}function te(){st.value=yt(),Y.value=yt().slice(0,7)}const ee=f(()=>{const a=st.value;if(!a||a===yt())return"Today";const t=new Date(a+"T12:00:00");return Number.isNaN(t.getTime())?a:t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),ae=f(()=>{var s,o;const a=new Map;for(const r of w.value){const n=String(((s=r.fieldData)==null?void 0:s.Currency)??"").trim()||"GHS",h=K(xt(r));if(!h)continue;const c=Number((o=r.fieldData)==null?void 0:o.Total);if(!Number.isFinite(c))continue;a.has(n)||a.set(n,new Map);const y=a.get(n);y.set(h,(y.get(h)??0)+c)}const t={};return a.forEach((r,n)=>{t[n]=Array.from(r.entries()).map(([h,c])=>({date:h,total:c}))}),t}),Vt=f(()=>{const a=ae.value;let t="GHS",s=0;for(const[o,r]of Object.entries(a)){const n=r.reduce((h,c)=>h+c.total,0);n>s&&(s=n,t=o)}return t}),oe=f(()=>{var o,r,n,h;const a=At.value,t=st.value,s=new Map;for(const c of p.value){const y=K(mt(c));if(!y||y!==t)continue;const V=String(((o=c.fieldData)==null?void 0:o.VendorID)??"").trim(),U=String(((r=c.fieldData)==null?void 0:r.VendorName)??"").trim()||V||"—",ut=V||U,ct=Number((n=c.fieldData)==null?void 0:n.Total);if(!Number.isFinite(ct))continue;const vt=String(((h=c.fieldData)==null?void 0:h.Currency)??"").trim()||"GHS";s.has(ut)||s.set(ut,{label:U,total:0,totalsByCurrency:{}});const pt=s.get(ut);pt.totalsByCurrency[vt]=(pt.totalsByCurrency[vt]??0)+ct,vt===a&&(pt.total+=ct)}return Array.from(s.values()).filter(c=>c.total>0||Object.keys(c.totalsByCurrency).length>0).map(c=>({date:c.label,label:c.label,total:c.total,totalsByCurrency:c.totalsByCurrency})).sort((c,y)=>y.total-c.total).slice(0,10)}),se=f(()=>{var o,r;const a=st.value,t={};for(const n of p.value){const h=K(mt(n));if(!h||h!==a)continue;const c=String(((o=n.fieldData)==null?void 0:o.Currency)??"").trim()||"GHS",y=Number((r=n.fieldData)==null?void 0:r.Total);Number.isFinite(y)&&(t[c]=(t[c]??0)+y)}const s=Object.entries(t).map(([n,h])=>`${n} ${rt(h)||"0.00"}`).filter(Boolean);return s.length>0?s.join(" · "):""}),ne=f(()=>{var o,r,n,h;const a=Vt.value,t=st.value,s=new Map;for(const c of w.value){const y=K(xt(c));if(!y||y!==t)continue;const V=String(((o=c.fieldData)==null?void 0:o.VendorID)??"").trim(),U=String(((r=c.fieldData)==null?void 0:r.VendorName)??"").trim()||V||"—",ut=V||U,ct=Number((n=c.fieldData)==null?void 0:n.Total);if(!Number.isFinite(ct))continue;const vt=String(((h=c.fieldData)==null?void 0:h.Currency)??"").trim()||"GHS";s.has(ut)||s.set(ut,{label:U,total:0,totalsByCurrency:{}});const pt=s.get(ut);pt.totalsByCurrency[vt]=(pt.totalsByCurrency[vt]??0)+ct,vt===a&&(pt.total+=ct)}return Array.from(s.values()).filter(c=>c.total>0||Object.keys(c.totalsByCurrency).length>0).map(c=>({date:c.label,label:c.label,total:c.total,totalsByCurrency:c.totalsByCurrency})).sort((c,y)=>y.total-c.total).slice(0,10)}),le=f(()=>{var o,r;const a=st.value,t={};for(const n of w.value){const h=K(xt(n));if(!h||h!==a)continue;const c=String(((o=n.fieldData)==null?void 0:o.Currency)??"").trim()||"GHS",y=Number((r=n.fieldData)==null?void 0:r.Total);Number.isFinite(y)&&(t[c]=(t[c]??0)+y)}const s=Object.entries(t).map(([n,h])=>`${n} ${rt(h)||"0.00"}`).filter(Boolean);return s.length>0?s.join(" · "):""}),re=f(()=>At.value);Z(()=>[u.value.length,p.value.length,_.value.length,w.value.length,C.value],([a,t,s,o,r])=>{dt(ft,Number(a)),dt(ht,Number(t)),dt(O,Number(s)),dt(St,Number(o)),dt(Mt,Number(r))},{immediate:!0});const X=f(()=>u.value.filter(a=>_t(a,b.value))),q=f(()=>p.value.filter(a=>_t(a,b.value))),H=f(()=>_.value.filter(a=>_t(a,b.value))),z=f(()=>w.value.filter(a=>_t(a,b.value))),It=f(()=>X.value.length>0||q.value.length>0||H.value.length>0||z.value.length>0),ie=f(()=>{const a=m.value;return a==="draft"?"Search Draft (vendor, ref…)":a==="posted"?"Search Posted (vendor, ref…)":a==="rejected"?"Search Rejected (vendor, ref…)":"Search Approved (vendor, ref…)"}),de=f(()=>{if(!b.value)return!1;const a=m.value;return a==="draft"?X.value.length===0:a==="posted"?q.value.length===0:a==="rejected"?H.value.length===0:z.value.length===0}),wt=f(()=>Math.max(1,Math.ceil(X.value.length/W))),kt=f(()=>Math.max(1,Math.ceil(q.value.length/W))),Dt=f(()=>Math.max(1,Math.ceil(H.value.length/W))),Ct=f(()=>Math.max(1,Math.ceil(z.value.length/W))),ue=f(()=>{const a=(S.value-1)*W;return X.value.slice(a,a+W)}),ce=f(()=>{const a=(A.value-1)*W;return q.value.slice(a,a+W)}),ve=f(()=>{const a=(R.value-1)*W;return H.value.slice(a,a+W)}),pe=f(()=>{const a=(j.value-1)*W;return z.value.slice(a,a+W)});Z(b,()=>{S.value=1,A.value=1,R.value=1,j.value=1}),Z(wt,a=>{S.value>a&&(S.value=Math.max(1,a))}),Z(kt,a=>{A.value>a&&(A.value=Math.max(1,a))}),Z(Dt,a=>{R.value>a&&(R.value=Math.max(1,a))}),Z(Ct,a=>{j.value>a&&(j.value=Math.max(1,a))});const Gt=f(()=>{var t,s;const a={};for(const o of u.value){const r=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",n=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(n)&&(a[r]=(a[r]??0)+n)}return a}),Ft=f(()=>{var t,s;const a={};for(const o of p.value){const r=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",n=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(n)&&(a[r]=(a[r]??0)+n)}return a}),Ot=f(()=>{var t,s;const a={};for(const o of _.value){const r=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",n=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(n)&&(a[r]=(a[r]??0)+n)}return a}),Ht=f(()=>{var t,s;const a={};for(const o of w.value){const r=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",n=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(n)&&(a[r]=(a[r]??0)+n)}return a});Z([u,p,_,w],()=>{it.setCounts(u.value.length,p.value.length,_.value.length,w.value.length)},{immediate:!0}),Z([Gt,Ft,Ot,Ht],()=>{it.setTotalsByCurrency(Gt.value,Ft.value,Ot.value,Ht.value)},{immediate:!0});async function zt(){if(!J.value){T.value=[],C.value=0;return}E.value=!0,et.value=null;try{const[a,t]=await Promise.all([tt(qt.PAYABLES_MAIN,{limit:500}),tt(qt.VENDOR_TBL,{limit:5e3})]);a.error?(et.value=a.error,T.value=[]):T.value=a.data,C.value=t.error?0:t.data.length}finally{E.value=!1}}return ye(zt),Z(J,a=>{a&&zt()}),(a,t)=>{const s=we("router-link");return i(),d("div",Ke,[e("header",Ye,[t[18]||(t[18]=e("div",null,[e("h1",{class:"text-[1.75rem] font-bold tracking-tight text-[var(--color-text)] md:text-[2rem]",style:{"letter-spacing":"-0.025em","line-height":"1.2"}}," Finance Payables "),e("p",{class:"mt-1 text-[13px] text-[var(--color-text-muted)]"}," Open entries and flip between them like a booklet. ")],-1)),x(s,{to:"/entry",class:"pill-btn inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white no-underline shadow-md hover:bg-orange-600 transition-colors"},{default:lt(()=>[...t[17]||(t[17]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),I(" New entry ",-1)])]),_:1})]),E.value?(i(),d("div",Xe,[e("section",Je,[e("header",Qe,[x(M,{width:"4rem",height:"0.75rem",class:"rounded"}),x(M,{width:"2rem",height:"1rem",class:"rounded-full"})]),e("ul",Ue,[(i(),d($,null,F(5,o=>e("li",{key:o,class:"list-row list-row--draft rounded-2xl border border-[var(--color-border)] bg-[var(--color-bg-card)] px-4 py-3.5 flex items-center gap-3"},[x(M,{width:"1.5rem",height:"1.5rem",circle:""}),x(M,{width:"40%",height:"0.875rem",class:"max-w-[8rem]"}),x(M,{width:"5rem",height:"0.75rem"}),x(M,{width:"4rem",height:"0.75rem"}),x(M,{width:"5rem",height:"0.75rem"}),x(M,{width:"4rem",height:"2rem",class:"rounded-full ml-auto"})])),64))])]),e("section",Ze,[e("header",ta,[x(M,{width:"4rem",height:"0.75rem",class:"rounded"}),x(M,{width:"2rem",height:"1rem",class:"rounded-full"})]),e("ul",ea,[(i(),d($,null,F(3,o=>e("li",{key:o,class:"list-row rounded-2xl border border-[var(--color-border)] bg-[var(--color-bg-card)] px-4 py-3.5 flex items-center gap-3"},[x(M,{width:"1.25rem",height:"1.25rem",circle:"",class:"shrink-0"}),x(M,{width:"35%",height:"0.875rem",class:"max-w-[7rem]"}),x(M,{width:"4.5rem",height:"0.75rem"}),x(M,{width:"3.5rem",height:"0.75rem"}),x(M,{width:"4.5rem",height:"0.75rem"}),x(M,{width:"3rem",height:"1.75rem",class:"rounded-full ml-auto"})])),64))])])])):et.value?(i(),d("div",aa,v(et.value),1)):T.value.length===0?(i(),d("div",oa,[e("p",sa,v(L(J)?"No payables yet.":"Connect to FileMaker to load payables, or create a new entry."),1),L(J)?(i(),be(s,{key:0,to:"/entry",class:"text-[var(--color-accent)] font-medium hover:underline"},{default:lt(()=>[...t[19]||(t[19]=[I("Create one",-1)])]),_:1})):(i(),d("span",na,[...t[20]||(t[20]=[I("Click ",-1),e("strong",null,"Connect",-1),I(" in the status bar below.",-1)])]))])):(i(),d("div",la,[e("div",ra,[e("p",ia,v(at.value),1),e("div",da,[e("div",ua,[t[21]||(t[21]=e("span",{class:"stat-card__label"},"Draft",-1)),e("span",ca,v(ft.value),1),t[22]||(t[22]=e("span",{class:"stat-card__sublabel"},"entries",-1))]),e("div",va,[t[23]||(t[23]=e("span",{class:"stat-card__label"},"Posted",-1)),e("span",pa,v(ht.value),1),t[24]||(t[24]=e("span",{class:"stat-card__sublabel"},"entries",-1))]),e("div",{class:G(["stat-card-wrap stat-card-wrap--rejected",{"stat-card-wrap--has-rejected":O.value>0}])},[O.value>0?(i(),d("span",fa,[...t[25]||(t[25]=[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 5v14M5 12l7 7 7-7"})],-1)])])):g("",!0),e("button",{type:"button",class:G(["stat-card stat-card--rejected stat-card--clickable",{"stat-card--booklet":O.value>1}]),disabled:O.value===0,"aria-label":O.value>1?`Open ${O.value} rejected entries in booklet`:O.value===1?"Open rejected entry":"No rejected entries",onClick:Q},[t[27]||(t[27]=e("span",{class:"stat-card__label"},"Rejected",-1)),e("span",_a,v(O.value),1),t[28]||(t[28]=e("span",{class:"stat-card__sublabel"},"entries",-1)),O.value>0?(i(),d("span",ma,[...t[26]||(t[26]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)])])):g("",!0)],10,ha)],2),e("div",ya,[t[29]||(t[29]=e("span",{class:"stat-card__label"},"Approved",-1)),e("span",ba,v(St.value),1),t[30]||(t[30]=e("span",{class:"stat-card__sublabel"},"entries",-1))])]),e("div",ga,[x(s,{to:"/vendors",class:"stat-card stat-card--vendors stat-card--link stats-dashboard__vendors","aria-label":"View vendors"},{default:lt(()=>[t[31]||(t[31]=e("span",{class:"stat-card__label"},"Vendors",-1)),e("span",xa,v(Mt.value),1),t[32]||(t[32]=e("span",{class:"stat-card__sublabel"},"vendors",-1)),t[33]||(t[33]=e("span",{class:"stat-card__action-icon stat-card__action-icon--vendors","aria-hidden":"true"},[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1))]),_:1})])]),e("section",wa,[e("div",ka,[e("div",Da,[e("button",{type:"button",class:"chart-calendar__nav","aria-label":"Previous month",onClick:Qt},[...t[34]||(t[34]=[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e("span",Ca,v(Jt.value),1),e("button",{type:"button",class:"chart-calendar__nav","aria-label":"Next month",onClick:Ut},[...t[35]||(t[35]=[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M9 18l6-6-6-6"})],-1)])])]),e("div",$a,[(i(),d($,null,F(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=>e("span",{key:o,class:"chart-calendar__weekday"},v(o),1)),64))]),e("div",Sa,[(i(!0),d($,null,F(Xt.value,(o,r)=>(i(),d($,{key:r},[(i(!0),d($,null,F(o,(n,h)=>(i(),d("button",{key:r*7+h,type:"button",class:G(["chart-calendar__day",{"chart-calendar__day--empty":!n,"chart-calendar__day--selected":n==null?void 0:n.isSelected,"chart-calendar__day--today":(n==null?void 0:n.isToday)&&!(n!=null&&n.isSelected)}]),disabled:!n,onClick:c=>n&&Zt(n.dateKey)},v(n?n.day:""),11,Ma))),128))],64))),128))]),e("button",{type:"button",class:"chart-calendar__today",onClick:te}," Today ")]),e("div",Ta,[e("div",ja,[e("button",{type:"button",class:G(["daily-chart-metric-btn",{"daily-chart-metric-btn--active":nt.value==="posted"}]),onClick:t[0]||(t[0]=o=>nt.value="posted")}," Posted ",2),e("button",{type:"button",class:G(["daily-chart-metric-btn",{"daily-chart-metric-btn--active":nt.value==="approved"}]),onClick:t[1]||(t[1]=o=>nt.value="approved")}," Approved ",2)]),x(Ee,{data:nt.value==="posted"?oe.value:ne.value,currency:nt.value==="posted"?re.value:Vt.value,"total-label":nt.value==="posted"?se.value:le.value,"date-label":ee.value,"chart-type":nt.value,"x-axis-mode":"vendor"},null,8,["data","currency","total-label","date-label","chart-type"])])]),e("div",Na,[e("div",Ba,[e("div",Ra,[e("div",{class:G(["search-bar__wrap",{"search-bar__wrap--has-value":b.value}])},[t[37]||(t[37]=e("span",{class:"search-bar__icon","aria-hidden":"true"},[e("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),$t(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>b.value=o),type:"search",class:"search-bar__input",placeholder:ie.value,autocomplete:"off","aria-label":`Search ${m.value} entries`},null,8,La),[[ge,b.value,void 0,{trim:!0}]]),b.value?(i(),d("button",{key:0,type:"button",class:"search-bar__clear","aria-label":"Clear search",onClick:t[3]||(t[3]=o=>b.value="")},[...t[36]||(t[36]=[e("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):g("",!0)],2),b.value?(i(),d("p",Pa,[It.value?(i(),d($,{key:0},[X.value.length>0?(i(),d("span",Aa,v(X.value.length)+" in Draft",1)):g("",!0),X.value.length>0&&(q.value.length>0||H.value.length>0||z.value.length>0)?(i(),d($,{key:1},[I(" · ")],64)):g("",!0),q.value.length>0?(i(),d("span",Va,v(q.value.length)+" in Posted",1)):g("",!0),q.value.length>0&&(H.value.length>0||z.value.length>0)?(i(),d($,{key:3},[I(" · ")],64)):g("",!0),H.value.length>0?(i(),d("span",Ia,v(H.value.length)+" in Rejected",1)):g("",!0),H.value.length>0&&z.value.length>0?(i(),d($,{key:5},[I(" · ")],64)):g("",!0),z.value.length>0?(i(),d("span",Ga,v(z.value.length)+" in Approved",1)):g("",!0),de.value&&It.value?(i(),d("span",Fa," — switch tab to see them ")):g("",!0)],64)):(i(),d($,{key:1},[I("No matches in any tab")],64))])):g("",!0)]),e("div",Oa,[e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'draft'","aria-controls":"panel-draft",id:"tab-draft",class:G(["segment-control__segment",{"segment-control__segment--active":m.value==="draft"}]),onClick:t[4]||(t[4]=o=>m.value="draft")},[t[38]||(t[38]=e("span",{class:"segment-control__label"},"Draft",-1)),e("span",Ha,v(b.value?`${X.value.length} of ${u.value.length}`:u.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'posted'","aria-controls":"panel-posted",id:"tab-posted",class:G(["segment-control__segment",{"segment-control__segment--active":m.value==="posted"}]),onClick:t[5]||(t[5]=o=>m.value="posted")},[t[39]||(t[39]=e("span",{class:"segment-control__label"},"Posted",-1)),e("span",za,v(b.value?`${q.value.length} of ${p.value.length}`:p.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'rejected'","aria-controls":"panel-rejected",id:"tab-rejected",class:G(["segment-control__segment",{"segment-control__segment--active":m.value==="rejected"}]),onClick:t[6]||(t[6]=o=>m.value="rejected")},[t[40]||(t[40]=e("span",{class:"segment-control__label"},"Rejected",-1)),e("span",Wa,v(b.value?`${H.value.length} of ${_.value.length}`:_.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'approved'","aria-controls":"panel-approved",id:"tab-approved",class:G(["segment-control__segment",{"segment-control__segment--active":m.value==="approved"}]),onClick:t[7]||(t[7]=o=>m.value="approved")},[t[41]||(t[41]=e("span",{class:"segment-control__label"},"Approved",-1)),e("span",qa,v(b.value?`${z.value.length} of ${w.value.length}`:w.value.length),1)],2)])]),$t(e("section",Ea,[L(B).selectedCount>0?(i(),d("div",Ka,[e("button",{type:"button",class:"pill-btn inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white shadow-md hover:bg-orange-600 transition-colors",onClick:gt},[t[42]||(t[42]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),I(" Open booklet ("+v(L(B).selectedCount)+") ",1)]),e("button",{type:"button",class:"text-[var(--label-size)] font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors",onClick:t[8]||(t[8]=o=>L(B).clearSelection())}," Clear selection ")])):g("",!0),X.value.length>0?(i(),d("div",Ya,[(i(!0),d($,null,F(ue.value,(o,r)=>(i(),d("div",{key:o.recordId||`d-${r}`,class:G(["list-view__row list-row list-row--draft group px-4 py-3.5",L(B).isSelected(o.fieldData.TransRef??"")?"bg-orange-500/5 border-l-4 border-l-orange-500":"border-l-4 border-l-transparent"])},[e("button",{type:"button",class:G(["flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:ring-offset-2 focus:ring-offset-[var(--color-bg)]",L(B).isSelected(o.fieldData.TransRef??"")?"border-orange-500 bg-orange-500/20 text-orange-400":"border-[var(--color-border)] text-transparent hover:border-[var(--color-text-muted)]"]),"aria-label":L(B).isSelected(o.fieldData.TransRef??"")?"Remove from booklet":"Add to booklet",onClick:De(n=>L(B).toggleSelected(o.fieldData.TransRef??""),["stop"])},[L(B).isSelected(o.fieldData.TransRef??"")?(i(),d("svg",Ja,[...t[43]||(t[43]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):g("",!0)],10,Xa),e("span",Qa,v(o.fieldData.VendorName||"—"),1),e("div",Ua,[e("div",Za,[t[44]||(t[44]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,to)]),e("div",eo,[t[45]||(t[45]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,ao)]),e("div",oo,[t[46]||(t[46]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",so,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(rt)(o.fieldData.Total)}`.trim():"—"),1)])]),x(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end",onClick:n=>P(o.fieldData.TransRef??"")},{default:lt(()=>[...t[47]||(t[47]=[I(" Open ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to","onClick"])],2))),128))])):g("",!0),wt.value>1?(i(),d("div",no,[e("button",{type:"button",class:"pagination__btn",disabled:S.value<=1,"aria-label":"Previous page",onClick:t[9]||(t[9]=o=>S.value=Math.max(1,S.value-1))},[...t[48]||(t[48]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,lo),e("span",ro," Page "+v(S.value)+" of "+v(wt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:S.value>=wt.value,"aria-label":"Next page",onClick:t[10]||(t[10]=o=>S.value=Math.min(wt.value,S.value+1))},[...t[49]||(t[49]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,io)])):g("",!0),X.value.length===0?(i(),d("p",uo,v(b.value?"No matching draft entries.":"No draft payables."),1)):g("",!0)],512),[[jt,m.value==="draft"]]),$t(e("section",co,[q.value.length>0?(i(),d("div",vo,[(i(!0),d($,null,F(ce.value,(o,r)=>(i(),d("div",{key:o.recordId||`p-${r}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",po,[t[50]||(t[50]=e("span",{class:"flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-400",title:"Posted"},[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),e("span",fo,v(o.fieldData.VendorName||"—"),1)]),e("div",ho,[e("div",_o,[t[51]||(t[51]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,mo)]),e("div",yo,[t[52]||(t[52]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,bo)]),e("div",go,[t[53]||(t[53]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",xo,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(rt)(o.fieldData.Total)}`.trim():"—"),1)])]),x(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-text-muted)] no-underline opacity-80 group-hover:opacity-100 group-hover:text-[var(--color-text)] transition-all justify-self-end"},{default:lt(()=>[...t[54]||(t[54]=[I(" View ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):g("",!0),kt.value>1?(i(),d("div",wo,[e("button",{type:"button",class:"pagination__btn",disabled:A.value<=1,"aria-label":"Previous page",onClick:t[11]||(t[11]=o=>A.value=Math.max(1,A.value-1))},[...t[55]||(t[55]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,ko),e("span",Do," Page "+v(A.value)+" of "+v(kt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:A.value>=kt.value,"aria-label":"Next page",onClick:t[12]||(t[12]=o=>A.value=Math.min(kt.value,A.value+1))},[...t[56]||(t[56]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Co)])):g("",!0),q.value.length===0?(i(),d("p",$o,v(b.value?"No matching posted entries.":"No posted payables yet."),1)):g("",!0)],512),[[jt,m.value==="posted"]]),$t(e("section",So,[H.value.length>0?(i(),d("div",Mo,[(i(!0),d($,null,F(ve.value,(o,r)=>(i(),d("div",{key:o.recordId||`r-${r}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",To,v(o.fieldData.VendorName||"—"),1),e("div",jo,[e("div",No,[t[57]||(t[57]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,Bo)]),e("div",Ro,[t[58]||(t[58]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,Lo)]),e("div",Po,[t[59]||(t[59]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",Ao,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(rt)(o.fieldData.Total)}`.trim():"—"),1)])]),x(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end"},{default:lt(()=>[...t[60]||(t[60]=[I(" Open ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):g("",!0),Dt.value>1?(i(),d("div",Vo,[e("button",{type:"button",class:"pagination__btn",disabled:R.value<=1,"aria-label":"Previous page",onClick:t[13]||(t[13]=o=>R.value=Math.max(1,R.value-1))},[...t[61]||(t[61]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Io),e("span",Go,"Page "+v(R.value)+" of "+v(Dt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:R.value>=Dt.value,"aria-label":"Next page",onClick:t[14]||(t[14]=o=>R.value=Math.min(Dt.value,R.value+1))},[...t[62]||(t[62]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Fo)])):g("",!0),H.value.length===0?(i(),d("p",Oo,v(b.value?"No matching rejected entries.":"No rejected payables."),1)):g("",!0)],512),[[jt,m.value==="rejected"]]),$t(e("section",Ho,[z.value.length>0?(i(),d("div",zo,[(i(!0),d($,null,F(pe.value,(o,r)=>(i(),d("div",{key:o.recordId||`a-${r}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",Wo,v(o.fieldData.VendorName||"—"),1),e("div",qo,[e("div",Eo,[t[63]||(t[63]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,Ko)]),e("div",Yo,[t[64]||(t[64]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,Xo)]),e("div",Jo,[t[65]||(t[65]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",Qo,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(rt)(o.fieldData.Total)}`.trim():"—"),1)])]),x(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end"},{default:lt(()=>[...t[66]||(t[66]=[I(" View ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):g("",!0),Ct.value>1?(i(),d("div",Uo,[e("button",{type:"button",class:"pagination__btn",disabled:j.value<=1,"aria-label":"Previous page",onClick:t[15]||(t[15]=o=>j.value=Math.max(1,j.value-1))},[...t[67]||(t[67]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Zo),e("span",ts,"Page "+v(j.value)+" of "+v(Ct.value),1),e("button",{type:"button",class:"pagination__btn",disabled:j.value>=Ct.value,"aria-label":"Next page",onClick:t[16]||(t[16]=o=>j.value=Math.min(Ct.value,j.value+1))},[...t[68]||(t[68]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,es)])):g("",!0),z.value.length===0?(i(),d("p",as,v(b.value?"No matching approved entries.":"No approved payables."),1)):g("",!0)],512),[[jt,m.value==="approved"]])])]))])}}});export{ns as default};
