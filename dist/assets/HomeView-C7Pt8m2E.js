import{d as te,c as d,e,t as v,q as y,n as Ht,b as Jt,F as $,z as G,g as w,T as ke,h as ct,i as p,r as D,j as i,f as F,A as vt,_ as De,B as Ce,C as $e,u as Se,D as Qt,E as W,o as Me,m as L,G as Te,x as I,p as Bt,v as Ne,H as Pt,I as je,J as Be,k as Re,L as Vt,K as Le,l as Ae,w as Pe,M as Ve}from"./index-oHQmfbVN.js";import{_ as M}from"./Skeleton.vue_vue_type_script_setup_true_lang-Lbwj0Rap.js";const Ie={class:"daily-posted-chart"},Fe={class:"daily-posted-chart__header"},Ge={class:"daily-posted-chart__title-row"},He={class:"daily-posted-chart__title"},Oe={key:0,class:"daily-posted-chart__subtitle daily-posted-chart__subtitle--muted"},Ee={key:1,class:"daily-posted-chart__subtitle"},ze=["viewBox"],We={class:"daily-posted-chart__grid"},qe=["x1","y1","x2","y2"],Ye={class:"daily-posted-chart__bars"},Ke=["d","fill","onMouseenter"],Ue={class:"daily-posted-chart__axis"},Xe=["x","y"],Je={class:"daily-posted-chart__axis daily-posted-chart__axis--x"},Qe=["x","y"],Ze={class:"daily-posted-chart__tooltip-date"},ta={class:"daily-posted-chart__tooltip-value"},ea={key:1,class:"daily-posted-chart__empty"},aa={class:"daily-posted-chart__empty-text"},It=6,oa=6,Zt=24,sa=te({__name:"DailyPostedChart",props:{data:{},currency:{default:"GHS"},totalLabel:{},xAxisMode:{default:"date"},dateLabel:{},chartType:{default:"posted"},chartWidth:{default:360},chartHeight:{default:60}},setup(Ot){const T=Ot,H=p(()=>T.xAxisMode==="vendor"),st=p(()=>T.chartType==="approved"?"Approved":"Posted"),lt=p(()=>st.value.toLowerCase()),et=p(()=>{var c;if(!H.value)return`${st.value} by day`;const r=(c=T.dateLabel)==null?void 0:c.trim();return r&&r.toLowerCase()!=="today"?`${st.value} on ${r} by vendor`:`${st.value} today by vendor`}),pt=D(null),A=D(-1),bt=p(()=>T.chartHeight),C=p(()=>T.chartWidth),S={top:4,right:8,bottom:20,left:36},nt=p(()=>{const r=g.value.length;if(r===0)return C.value;const c=C.value-S.left-S.right,f=r*Zt+(r-1)*It;return f>c?S.left+S.right+f:C.value}),kt=p(()=>nt.value-S.right),U=p(()=>bt.value-S.bottom),g=p(()=>T.xAxisMode==="vendor"?T.data.slice(0,10):T.data.slice().sort((c,f)=>c.date.localeCompare(f.date)).slice(-7)),Y=p(()=>{if(g.value.length===0)return 0;const r=g.value.map(f=>Number(f.total)).filter(f=>Number.isFinite(f)&&f>=0);if(r.length===0)return 0;const c=Math.max(...r);return c>0?c:0}),Dt=p(()=>g.value.reduce((r,c)=>r+c.total,0)),ft=p(()=>{const r=Y.value;if(r<=0)return[0];const c=r<=5?1:r<=20?5:r<=100?20:r<=500?100:Math.ceil(r/5/100)*100,f=[];for(let m=0;m<=r;m+=c)f.push(m);return f[f.length-1]<r&&f.push(r),f});function x(r){if(Y.value<=0)return U.value;const c=U.value-S.top;return U.value-r/Y.value*c}const b=p(()=>{const r=g.value.length;if(r===0)return 0;const c=kt.value-S.left-(r-1)*It;return Math.max(Zt,c/r)});function N(r){const c=g.value.length;if(c===0)return 0;const f=c*b.value+(c-1)*It;return S.left+(kt.value-S.left-f)/2+b.value/2+r*(b.value+It)}function j(r){if(r.total>0)return!1;const c=r.totalsByCurrency;return c?Object.values(c).some(f=>f>0):!1}function P(r,c){const f=N(c)-b.value/2;let m=Y.value>0?r.total/Y.value*(U.value-S.top):0;m<.5&&j(r)&&(m=Math.min(10,(U.value-S.top)*.2));const R=U.value-m;if(m<.5)return"";const X=Math.min(oa,b.value/2,m/2),at=b.value;return`M ${f} ${R+X} Q ${f} ${R} ${f+X} ${R} L ${f+at-X} ${R} Q ${f+at} ${R} ${f+at} ${R+X} L ${f+at} ${U.value} L ${f} ${U.value} Z`}function V(r){return r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"k":String(Math.round(r))}function ht(r){return Y.value<=100&&r===Math.round(r)?String(r):V(r)}function Ct(r){const c=new Date(r+"T12:00:00");return isNaN(c.getTime())?r:`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()]} ${c.getDate()}`}function Ft(r){const c=new Date(r+"T12:00:00");return isNaN(c.getTime())?r:c.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function Gt(r){const c=r.totalsByCurrency;return c&&Object.keys(c).length>0?Object.entries(c).map(([f,m])=>`${f} ${vt(m)}`).join(" · "):`${T.currency} ${vt(r.total)}`}function $t(r,c){return r.label??r.date??`i-${c}`}function Rt(r){const c=r.label??Ct(r.date);return T.xAxisMode==="vendor"&&c.length>12?c.slice(0,10)+"…":c}const O=p(()=>nt.value<=C.value?{}:{width:`${nt.value/C.value*100}%`}),Lt=p(()=>{if(A.value<0||!pt.value)return{};const r=pt.value,c=r.getBoundingClientRect(),f=N(A.value),R=nt.value/C.value*c.width/nt.value,X=f*R-r.scrollLeft,at=110;let St=X-at/2;return St=Math.max(6,Math.min(St,c.width-at-6)),{left:`${St}px`,top:"4px"}});return(r,c)=>(i(),d("div",Ie,[e("header",Fe,[e("div",Ge,[e("h3",He,v(et.value),1)]),Dt.value===0&&g.value.length===0?(i(),d("p",Oe,v(H.value?`No vendors ${lt.value} today`:`No ${lt.value} amounts to show`),1)):g.value.length>0?(i(),d("p",Ee,v(g.value.length)+" "+v(H.value?"vendor":"day")+v(g.value.length===1?"":"s")+v(H.value?` ${lt.value} today`:" with activity"),1)):y("",!0)]),g.value.length>0?(i(),d("div",{key:0,class:"daily-posted-chart__wrap",ref_key:"chartWrapRef",ref:pt},[e("div",{class:"daily-posted-chart__scroll",style:Ht(O.value)},[(i(),d("svg",{class:"daily-posted-chart__svg",viewBox:`0 0 ${nt.value} ${bt.value}`,preserveAspectRatio:"xMinYMid meet","aria-hidden":"true"},[c[1]||(c[1]=Jt('<defs data-v-c8ef8ac5><linearGradient id="daily-posted-bar-fill" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(52, 211, 153, 0.5)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(134, 239, 172, 0.92)" data-v-c8ef8ac5></stop></linearGradient><linearGradient id="daily-posted-bar-fill-hover" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(52, 211, 153, 0.65)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(167, 243, 208, 1)" data-v-c8ef8ac5></stop></linearGradient><linearGradient id="daily-posted-bar-other" x1="0" y1="1" x2="0" y2="0" data-v-c8ef8ac5><stop offset="0%" stop-color="rgba(251, 191, 36, 0.5)" data-v-c8ef8ac5></stop><stop offset="100%" stop-color="rgba(253, 224, 71, 0.9)" data-v-c8ef8ac5></stop></linearGradient></defs>',1)),e("g",We,[(i(!0),d($,null,G(ft.value,(f,m)=>(i(),d("line",{key:"grid-"+m,x1:S.left,y1:x(f),x2:kt.value,y2:x(f),class:"daily-posted-chart__grid-line"},null,8,qe))),128))]),e("g",Ye,[(i(!0),d($,null,G(g.value,(f,m)=>(i(),d("path",{key:$t(f,m),d:P(f,m),class:F(["daily-posted-chart__bar",{"daily-posted-chart__bar--hover":A.value===m,"daily-posted-chart__bar--other":j(f)}]),style:Ht({animationDelay:`${m*.03}s`}),fill:j(f)?"url(#daily-posted-bar-other)":"url(#daily-posted-bar-fill)",onMouseenter:R=>A.value=m,onMouseleave:c[0]||(c[0]=R=>A.value=-1)},null,46,Ke))),128))]),e("g",Ue,[(i(!0),d($,null,G(ft.value,(f,m)=>(i(),d("text",{key:"y-"+m,x:S.left-6,y:x(f)+3,class:"daily-posted-chart__axis-text","text-anchor":"end"},v(ht(f)),9,Xe))),128))]),e("g",Je,[(i(!0),d($,null,G(g.value,(f,m)=>(i(),d("text",{key:"x-"+$t(f,m),x:N(m),y:bt.value-S.bottom+10,class:"daily-posted-chart__axis-text daily-posted-chart__axis-text--x","text-anchor":"middle"},v(Rt(f)),9,Qe))),128))])],8,ze))],4),w(ke,{name:"daily-posted-tooltip"},{default:ct(()=>[A.value>=0&&g.value[A.value]?(i(),d("div",{key:0,class:"daily-posted-chart__tooltip",style:Ht(Lt.value)},[e("span",Ze,v(H.value?g.value[A.value].label??g.value[A.value].date:Ft(g.value[A.value].date)),1),e("span",ta,v(Gt(g.value[A.value])),1)],4)):y("",!0)]),_:1})],512)):(i(),d("div",ea,[c[2]||(c[2]=Jt('<div class="daily-posted-chart__empty-icon" aria-hidden="true" data-v-c8ef8ac5><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-c8ef8ac5><path d="M3 3v18h18" data-v-c8ef8ac5></path><path d="M7 16v-5h4v5" data-v-c8ef8ac5></path><path d="M13 16V9h4v7" data-v-c8ef8ac5></path></svg></div>',1)),e("p",aa," No "+v(lt.value)+" entries with dates yet ",1)]))]))}}),la=De(sa,[["__scopeId","data-v-c8ef8ac5"]]),na={class:"content-area flex flex-col flex-1 min-h-0 w-full max-w-[1600px] mx-auto px-4 py-5 md:px-6 md:py-6 min-h-[400px]"},ra={class:"flex flex-wrap items-end justify-between gap-4 mb-8"},ia={key:0,class:"flex flex-col gap-10"},da={class:"flex flex-col gap-3"},ua={class:"flex items-center gap-2 px-4"},ca={class:"list-none p-0 m-0 flex flex-col gap-2"},va={class:"flex flex-col gap-3"},pa={class:"flex items-center gap-2 px-4"},fa={class:"list-none p-0 m-0 flex flex-col gap-2"},ha={key:1,class:"rounded-2xl bg-red-500/10 border border-red-500/20 px-5 py-4 text-[var(--label-size)] text-red-300"},_a={key:2,class:"glass rounded-2xl p-12 text-center"},ma={class:"text-[var(--color-text-muted)] mb-3"},ya={key:1,class:"text-[var(--color-text-muted)] text-sm"},ga={key:3,class:"flex flex-col gap-10"},ba={class:"stats-dashboard"},xa={class:"stats-dashboard__greeting","aria-live":"polite"},wa={class:"stats-dashboard__kpis"},ka={class:"stat-card stat-card--draft"},Da={class:"stat-card__value"},Ca={class:"stat-card stat-card--posted"},$a={class:"stat-card__value"},Sa={key:0,class:"stat-card__arrow","aria-hidden":"true"},Ma=["disabled","aria-label"],Ta={class:"stat-card__value"},Na={key:0,class:"stat-card__action-icon","aria-hidden":"true"},ja={class:"stat-card stat-card--approved"},Ba={class:"stat-card__value"},Ra={class:"stats-dashboard__charts"},La={class:"stat-card__value"},Aa={class:"daily-chart-section daily-chart-section--with-calendar"},Pa={class:"chart-calendar"},Va={class:"chart-calendar__header"},Ia={class:"chart-calendar__month"},Fa={class:"chart-calendar__weekdays"},Ga={class:"chart-calendar__grid"},Ha=["disabled","onClick"],Oa={class:"chart-calendar__chart"},Ea={class:"daily-chart-section__toggle"},za={class:"home-lists"},Wa={class:"search-and-tabs"},qa={class:"search-bar search-bar--compact"},Ya=["placeholder","aria-label"],Ka={key:0,class:"search-bar__hint"},Ua={key:0},Xa={key:2},Ja={key:4},Qa={key:6},Za={key:7,class:"search-bar__hint-switch"},to={class:"segment-control",role:"tablist","aria-label":"List by status"},eo={class:"segment-control__badge"},ao={class:"segment-control__badge"},oo={class:"segment-control__badge"},so={class:"segment-control__badge"},lo={id:"panel-draft",role:"tabpanel","aria-labelledby":"tab-draft",class:"flex flex-col gap-3"},no={key:0,class:"flex flex-wrap items-center gap-3 rounded-2xl border border-orange-500/40 bg-orange-500/10 px-4 py-3"},ro={key:1,class:"list-view--inset"},io=["aria-label","onClick"],uo={key:0,class:"h-3.5 w-3.5",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},co={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},vo={class:"list-row__meta"},po={class:"list-row__meta-col"},fo=["title"],ho={class:"list-row__meta-col"},_o=["title"],mo={class:"list-row__meta-col list-row__meta-col--total"},yo={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},go={key:2,class:"pagination"},bo=["disabled"],xo={class:"pagination__label"},wo=["disabled"],ko={key:3,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},Do={id:"panel-posted",role:"tabpanel","aria-labelledby":"tab-posted",class:"flex flex-col gap-3"},Co={key:0,class:"list-view--inset"},$o={class:"flex min-w-0 items-center gap-2"},So={class:"font-medium text-[var(--color-text)] truncate"},Mo={class:"list-row__meta"},To={class:"list-row__meta-col"},No=["title"],jo={class:"list-row__meta-col"},Bo=["title"],Ro={class:"list-row__meta-col list-row__meta-col--total"},Lo={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},Ao={key:1,class:"pagination"},Po=["disabled"],Vo={class:"pagination__label"},Io=["disabled"],Fo={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},Go={id:"panel-rejected",role:"tabpanel","aria-labelledby":"tab-rejected",class:"flex flex-col gap-3"},Ho={key:0,class:"list-view--inset"},Oo={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},Eo={class:"list-row__meta"},zo={class:"list-row__meta-col"},Wo=["title"],qo={class:"list-row__meta-col"},Yo=["title"],Ko={class:"list-row__meta-col list-row__meta-col--total"},Uo={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},Xo={key:1,class:"pagination"},Jo=["disabled"],Qo={class:"pagination__label"},Zo=["disabled"],ts={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},es={id:"panel-approved",role:"tabpanel","aria-labelledby":"tab-approved",class:"flex flex-col gap-3"},as={key:0,class:"list-view--inset"},os={class:"font-medium text-[var(--color-text)] min-w-0 truncate"},ss={class:"list-row__meta"},ls={class:"list-row__meta-col"},ns=["title"],rs={class:"list-row__meta-col"},is=["title"],ds={class:"list-row__meta-col list-row__meta-col--total"},us={class:"list-row__meta-value list-row__meta-value--total tabular-nums"},cs={key:1,class:"pagination"},vs=["disabled"],ps={class:"pagination__label"},fs=["disabled"],hs={key:2,class:"rounded-2xl border border-dashed border-[var(--color-border)] py-8 px-4 text-center text-[var(--label-size)] text-[var(--color-text-muted)]"},q=5,ys=te({__name:"HomeView",setup(Ot){const T=Ae(),H=je();function st(a){return Be(a)}const{findRecordsWithIds:lt,isConnected:et,loggedInEmail:pt,findRecordsByQueryWithIds:A}=Re(),bt=Ce(),C=$e(),S=Se(),nt=p(()=>rt.value.map(a=>(a.fieldData.TransRef??"").trim()).filter(a=>a&&C.isSelected(a)));function kt(a){C.addOpenEntry(a)}function U(){const a=nt.value;a.length!==0&&(C.openBookletWithRefs(a,"draft"),T.push({name:"entry",query:{transRef:a[0]}}))}const g=D([]),Y=D(0),Dt=D(!1),ft=D(null),x=D(""),b=D(st(H.query.tab)?H.query.tab:st(Qt())?Qt():"draft");W(()=>H.query.tab,a=>{st(a)&&a!==b.value&&(b.value=a)}),W(b,a=>{Ve(a),!(H.name!=="home"||H.query.tab===a)&&T.replace({path:"/home",query:{...H.query,tab:a}})});const N=D(1),j=D(1),P=D(1),V=D(1),ht=D(null);function Ct(a,t){if(!a)return"";const s=a[t]??a[t.replace(/([A-Z])/g," $1").trim()]??a[t.charAt(0).toLowerCase()+t.slice(1)];return s==null||s===""?"":String(s).trim()}async function Ft(){var o;const a=pt.value;if(!a||!et.value){ht.value=null;return}const t=String(a).trim().toLowerCase(),{data:s}=await A(Vt.PAYABLES_USERS,{Email:a},1);if(s!=null&&s.length){const n=(o=s[0])==null?void 0:o.fieldData,l=Ct(n,"FullName")||(n?String(n["Full Name"]??"").trim():"");ht.value=l||null}else{const{data:n}=await lt(Vt.PAYABLES_USERS,{limit:500}),l=n.find(_=>{const B=_==null?void 0:_.fieldData;return Ct(B,"Email").trim().toLowerCase()===t}),h=l==null?void 0:l.fieldData,u=Ct(h,"FullName")||(h?String(h["Full Name"]??"").trim():"");ht.value=u||null}}W([et,pt],()=>{et.value&&pt.value?Ft():ht.value=null},{immediate:!0});const Gt=p(()=>{const a=ht.value||"there",t=new Date().getHours();return`${t<12?"Good morning":t<18?"Good afternoon":"Good evening"}, ${a}`}),$t=D(0),Rt=D(0),O=D(0),Lt=D(0),r=D(0);function c(a,t,s=500){const o=a.value,n=performance.now();function l(h){const u=h-n,_=Math.min(u/s,1),B=1-Math.pow(1-_,2);a.value=Math.round(o+(t-o)*B),_<1&&requestAnimationFrame(l)}requestAnimationFrame(l)}function f(a,t){var u,_,B,k;if(!t.trim())return!0;const s=t.trim().toLowerCase(),o=String(((u=a.fieldData)==null?void 0:u.VendorName)??"").toLowerCase(),n=String(((_=a.fieldData)==null?void 0:_.VendorID)??"").toLowerCase(),l=String(((B=a.fieldData)==null?void 0:B.InvoiceNumber)??"").toLowerCase(),h=String(((k=a.fieldData)==null?void 0:k.TransRef)??"").toLowerCase();return o.includes(s)||n.includes(s)||l.includes(s)||h.includes(s)}function m(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.CreationTimestamp??t["Creation timestamp"]??t.creationTimestamp??t.creation_timestamp??"";return String(s??"").trim()}function R(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.PostedDate??t["Posted date"]??t.postedDate??t.posted_date??t.Date??t.date??"";return String(s??"").trim()}function X(a){const t=a==null?void 0:a.fieldData;if(!t)return"";const s=t.ApprovedDate??t["Approved date"]??t.approvedDate??t.approved_date??t.Date??t.date??"";return String(s??"").trim()}function at(a){const t=a==null?void 0:a.fieldData;if(!t)return"Draft";const s=t.Status??t.status;if(s!=null&&String(s).trim())return String(s).trim();const o=t.Approved??t.approved,n=t.Rejected??t.rejected,l=t.Posted??t.posted;return o!=null&&String(o).trim()?"Approved":n!=null&&String(n).trim()?"Rejected":l!=null&&String(l).trim()==="Yes"?"Posted":"Draft"}function St(a){return[...a].sort((t,s)=>{const o=m(t),n=m(s);if(!o&&!n){const u=Number(t.recordId)||0;return(Number(s.recordId)||0)-u}if(!o)return 1;if(!n)return-1;const l=new Date(o).getTime();return new Date(n).getTime()-l})}function At(a,t){const s=a.filter(o=>at(o)===t);return St(s)}const rt=p(()=>At(g.value,"Draft")),J=p(()=>At(g.value,"Posted")),it=p(()=>At(g.value,"Rejected")),Q=p(()=>At(g.value,"Approved")),ee=p(()=>it.value.map(a=>(a.fieldData.TransRef??"").trim()).filter(Boolean));function ae(){const a=ee.value;if(a.length!==0){if(a.length===1){T.push({name:"entry",query:{transRef:a[0]}});return}C.openBookletWithRefs(a,"rejected"),T.push({name:"entry",query:{transRef:a[0]}})}}function xt(a){if(!a||typeof a!="string")return null;const t=a.trim();if(!t)return null;const s=new Date(t);if(Number.isNaN(s.getTime()))return null;const o=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),l=String(s.getDate()).padStart(2,"0");return`${o}-${n}-${l}`}const oe=p(()=>{var s,o;const a=new Map;for(const n of J.value){const l=String(((s=n.fieldData)==null?void 0:s.Currency)??"").trim()||"GHS",h=xt(R(n));if(!h)continue;const u=Number((o=n.fieldData)==null?void 0:o.Total);if(!Number.isFinite(u))continue;a.has(l)||a.set(l,new Map);const _=a.get(l);_.set(h,(_.get(h)??0)+u)}const t={};return a.forEach((n,l)=>{t[l]=Array.from(n.entries()).map(([h,u])=>({date:h,total:u}))}),t}),Et=p(()=>{const a=oe.value;let t="GHS",s=0;for(const[o,n]of Object.entries(a)){const l=n.reduce((h,u)=>h+u.total,0);l>s&&(s=l,t=o)}return t});function wt(){const a=new Date,t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0");return`${t}-${s}-${o}`}const dt=D(wt()),ut=D("posted"),Z=D(wt().slice(0,7)),se=p(()=>{const[a,t]=Z.value.split("-").map(Number),s=new Date(a,t-1,1),o=new Date(a,t,0),n=s.getDay(),l=o.getDate(),h=[];for(let k=0;k<n;k++)h.push(null);const u=wt();for(let k=1;k<=l;k++){const ot=`${a}-${String(t).padStart(2,"0")}-${String(k).padStart(2,"0")}`;h.push({dateKey:ot,day:k,isSelected:ot===dt.value,isToday:ot===u})}const _=h.length%7;if(_)for(let k=0;k<7-_;k++)h.push(null);const B=[];for(let k=0;k<h.length;k+=7)B.push(h.slice(k,k+7));return B}),le=p(()=>{const[a,t]=Z.value.split("-").map(Number);return new Date(a,t-1,1).toLocaleDateString(void 0,{month:"long",year:"numeric"})});function ne(){const[a,t]=Z.value.split("-").map(Number);t===1?Z.value=`${a-1}-12`:Z.value=`${a}-${String(t-1).padStart(2,"0")}`}function re(){const[a,t]=Z.value.split("-").map(Number);t===12?Z.value=`${a+1}-01`:Z.value=`${a}-${String(t+1).padStart(2,"0")}`}function ie(a){dt.value=a,Z.value=a.slice(0,7)}function de(){dt.value=wt(),Z.value=wt().slice(0,7)}const ue=p(()=>{const a=dt.value;if(!a||a===wt())return"Today";const t=new Date(a+"T12:00:00");return Number.isNaN(t.getTime())?a:t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),ce=p(()=>{var s,o;const a=new Map;for(const n of Q.value){const l=String(((s=n.fieldData)==null?void 0:s.Currency)??"").trim()||"GHS",h=xt(X(n));if(!h)continue;const u=Number((o=n.fieldData)==null?void 0:o.Total);if(!Number.isFinite(u))continue;a.has(l)||a.set(l,new Map);const _=a.get(l);_.set(h,(_.get(h)??0)+u)}const t={};return a.forEach((n,l)=>{t[l]=Array.from(n.entries()).map(([h,u])=>({date:h,total:u}))}),t}),zt=p(()=>{const a=ce.value;let t="GHS",s=0;for(const[o,n]of Object.entries(a)){const l=n.reduce((h,u)=>h+u.total,0);l>s&&(s=l,t=o)}return t}),ve=p(()=>{var o,n,l,h;const a=Et.value,t=dt.value,s=new Map;for(const u of J.value){const _=xt(R(u));if(!_||_!==t)continue;const B=String(((o=u.fieldData)==null?void 0:o.VendorID)??"").trim(),ot=String(((n=u.fieldData)==null?void 0:n.VendorName)??"").trim()||B||"—",_t=B||ot,mt=Number((l=u.fieldData)==null?void 0:l.Total);if(!Number.isFinite(mt))continue;const yt=String(((h=u.fieldData)==null?void 0:h.Currency)??"").trim()||"GHS";s.has(_t)||s.set(_t,{label:ot,total:0,totalsByCurrency:{}});const gt=s.get(_t);gt.totalsByCurrency[yt]=(gt.totalsByCurrency[yt]??0)+mt,yt===a&&(gt.total+=mt)}return Array.from(s.values()).filter(u=>u.total>0||Object.keys(u.totalsByCurrency).length>0).map(u=>({date:u.label,label:u.label,total:u.total,totalsByCurrency:u.totalsByCurrency})).sort((u,_)=>_.total-u.total).slice(0,10)}),pe=p(()=>{var o,n;const a=dt.value,t={};for(const l of J.value){const h=xt(R(l));if(!h||h!==a)continue;const u=String(((o=l.fieldData)==null?void 0:o.Currency)??"").trim()||"GHS",_=Number((n=l.fieldData)==null?void 0:n.Total);Number.isFinite(_)&&(t[u]=(t[u]??0)+_)}const s=Object.entries(t).map(([l,h])=>`${l} ${vt(h)||"0.00"}`).filter(Boolean);return s.length>0?s.join(" · "):""}),fe=p(()=>{var o,n,l,h;const a=zt.value,t=dt.value,s=new Map;for(const u of Q.value){const _=xt(X(u));if(!_||_!==t)continue;const B=String(((o=u.fieldData)==null?void 0:o.VendorID)??"").trim(),ot=String(((n=u.fieldData)==null?void 0:n.VendorName)??"").trim()||B||"—",_t=B||ot,mt=Number((l=u.fieldData)==null?void 0:l.Total);if(!Number.isFinite(mt))continue;const yt=String(((h=u.fieldData)==null?void 0:h.Currency)??"").trim()||"GHS";s.has(_t)||s.set(_t,{label:ot,total:0,totalsByCurrency:{}});const gt=s.get(_t);gt.totalsByCurrency[yt]=(gt.totalsByCurrency[yt]??0)+mt,yt===a&&(gt.total+=mt)}return Array.from(s.values()).filter(u=>u.total>0||Object.keys(u.totalsByCurrency).length>0).map(u=>({date:u.label,label:u.label,total:u.total,totalsByCurrency:u.totalsByCurrency})).sort((u,_)=>_.total-u.total).slice(0,10)}),he=p(()=>{var o,n;const a=dt.value,t={};for(const l of Q.value){const h=xt(X(l));if(!h||h!==a)continue;const u=String(((o=l.fieldData)==null?void 0:o.Currency)??"").trim()||"GHS",_=Number((n=l.fieldData)==null?void 0:n.Total);Number.isFinite(_)&&(t[u]=(t[u]??0)+_)}const s=Object.entries(t).map(([l,h])=>`${l} ${vt(h)||"0.00"}`).filter(Boolean);return s.length>0?s.join(" · "):""}),_e=p(()=>Et.value);W(()=>[rt.value.length,J.value.length,it.value.length,Q.value.length,Y.value],([a,t,s,o,n])=>{c($t,Number(a)),c(Rt,Number(t)),c(O,Number(s)),c(Lt,Number(o)),c(r,Number(n))},{immediate:!0});const tt=p(()=>rt.value.filter(a=>f(a,x.value))),K=p(()=>J.value.filter(a=>f(a,x.value))),E=p(()=>it.value.filter(a=>f(a,x.value))),z=p(()=>Q.value.filter(a=>f(a,x.value))),Wt=p(()=>tt.value.length>0||K.value.length>0||E.value.length>0||z.value.length>0),me=p(()=>{const a=b.value;return a==="draft"?"Search Draft (vendor, ref…)":a==="posted"?"Search Posted (vendor, ref…)":a==="rejected"?"Search Rejected (vendor, ref…)":"Search Approved (vendor, ref…)"}),ye=p(()=>{if(!x.value)return!1;const a=b.value;return a==="draft"?tt.value.length===0:a==="posted"?K.value.length===0:a==="rejected"?E.value.length===0:z.value.length===0}),Mt=p(()=>Math.max(1,Math.ceil(tt.value.length/q))),Tt=p(()=>Math.max(1,Math.ceil(K.value.length/q))),Nt=p(()=>Math.max(1,Math.ceil(E.value.length/q))),jt=p(()=>Math.max(1,Math.ceil(z.value.length/q))),ge=p(()=>{const a=(N.value-1)*q;return tt.value.slice(a,a+q)}),be=p(()=>{const a=(j.value-1)*q;return K.value.slice(a,a+q)}),xe=p(()=>{const a=(P.value-1)*q;return E.value.slice(a,a+q)}),we=p(()=>{const a=(V.value-1)*q;return z.value.slice(a,a+q)});W(x,()=>{N.value=1,j.value=1,P.value=1,V.value=1}),W(Mt,a=>{N.value>a&&(N.value=Math.max(1,a))}),W(Tt,a=>{j.value>a&&(j.value=Math.max(1,a))}),W(Nt,a=>{P.value>a&&(P.value=Math.max(1,a))}),W(jt,a=>{V.value>a&&(V.value=Math.max(1,a))});const qt=p(()=>{var t,s;const a={};for(const o of rt.value){const n=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",l=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(l)&&(a[n]=(a[n]??0)+l)}return a}),Yt=p(()=>{var t,s;const a={};for(const o of J.value){const n=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",l=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(l)&&(a[n]=(a[n]??0)+l)}return a}),Kt=p(()=>{var t,s;const a={};for(const o of it.value){const n=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",l=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(l)&&(a[n]=(a[n]??0)+l)}return a}),Ut=p(()=>{var t,s;const a={};for(const o of Q.value){const n=String(((t=o.fieldData)==null?void 0:t.Currency)??"").trim()||"GHS",l=Number((s=o.fieldData)==null?void 0:s.Total);Number.isFinite(l)&&(a[n]=(a[n]??0)+l)}return a});W([rt,J,it,Q],()=>{bt.setCounts(rt.value.length,J.value.length,it.value.length,Q.value.length)},{immediate:!0}),W([qt,Yt,Kt,Ut],()=>{bt.setTotalsByCurrency(qt.value,Yt.value,Kt.value,Ut.value)},{immediate:!0});async function Xt(){if(!et.value){g.value=[],Y.value=0;return}Dt.value=!0,ft.value=null;try{const[a,t]=await Promise.all([lt(Vt.PAYABLES_MAIN,{limit:500}),lt(Vt.VENDOR_TBL,{limit:5e3})]);a.error?(S.error(a.error),ft.value=null,g.value=[]):g.value=a.data,t.error?(S.error(t.error),Y.value=0):Y.value=t.data.length}finally{Dt.value=!1}}return Me(Xt),W(et,a=>{a&&Xt()}),(a,t)=>{const s=Le("router-link");return i(),d("div",na,[e("header",ra,[t[18]||(t[18]=e("div",null,[e("h1",{class:"text-[1.75rem] font-bold tracking-tight text-[var(--color-text)] md:text-[2rem]",style:{"letter-spacing":"-0.025em","line-height":"1.2"}}," Finance Payables "),e("p",{class:"mt-1 text-[13px] text-[var(--color-text-muted)]"}," Open entries and flip between them like a booklet. ")],-1)),w(s,{to:"/entry",class:"pill-btn inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white no-underline shadow-md hover:bg-orange-600 transition-colors"},{default:ct(()=>[...t[17]||(t[17]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),I(" New entry ",-1)])]),_:1})]),Dt.value?(i(),d("div",ia,[e("section",da,[e("header",ua,[w(M,{width:"4rem",height:"0.75rem",class:"rounded"}),w(M,{width:"2rem",height:"1rem",class:"rounded-full"})]),e("ul",ca,[(i(),d($,null,G(5,o=>e("li",{key:o,class:"list-row list-row--draft rounded-2xl border border-[var(--color-border)] bg-[var(--color-bg-card)] px-4 py-3.5 flex items-center gap-3"},[w(M,{width:"1.5rem",height:"1.5rem",circle:""}),w(M,{width:"40%",height:"0.875rem",class:"max-w-[8rem]"}),w(M,{width:"5rem",height:"0.75rem"}),w(M,{width:"4rem",height:"0.75rem"}),w(M,{width:"5rem",height:"0.75rem"}),w(M,{width:"4rem",height:"2rem",class:"rounded-full ml-auto"})])),64))])]),e("section",va,[e("header",pa,[w(M,{width:"4rem",height:"0.75rem",class:"rounded"}),w(M,{width:"2rem",height:"1rem",class:"rounded-full"})]),e("ul",fa,[(i(),d($,null,G(3,o=>e("li",{key:o,class:"list-row rounded-2xl border border-[var(--color-border)] bg-[var(--color-bg-card)] px-4 py-3.5 flex items-center gap-3"},[w(M,{width:"1.25rem",height:"1.25rem",circle:"",class:"shrink-0"}),w(M,{width:"35%",height:"0.875rem",class:"max-w-[7rem]"}),w(M,{width:"4.5rem",height:"0.75rem"}),w(M,{width:"3.5rem",height:"0.75rem"}),w(M,{width:"4.5rem",height:"0.75rem"}),w(M,{width:"3rem",height:"1.75rem",class:"rounded-full ml-auto"})])),64))])])])):ft.value?(i(),d("div",ha,v(ft.value),1)):g.value.length===0?(i(),d("div",_a,[e("p",ma,v(L(et)?"No payables yet.":"Connect to FileMaker to load payables, or create a new entry."),1),L(et)?(i(),Te(s,{key:0,to:"/entry",class:"text-[var(--color-accent)] font-medium hover:underline"},{default:ct(()=>[...t[19]||(t[19]=[I("Create one",-1)])]),_:1})):(i(),d("span",ya,[...t[20]||(t[20]=[I("Click ",-1),e("strong",null,"Connect",-1),I(" in the status bar below.",-1)])]))])):(i(),d("div",ga,[e("div",ba,[e("p",xa,v(Gt.value),1),e("div",wa,[e("div",ka,[t[21]||(t[21]=e("span",{class:"stat-card__label"},"Draft",-1)),e("span",Da,v($t.value),1),t[22]||(t[22]=e("span",{class:"stat-card__sublabel"},"entries",-1))]),e("div",Ca,[t[23]||(t[23]=e("span",{class:"stat-card__label"},"Posted",-1)),e("span",$a,v(Rt.value),1),t[24]||(t[24]=e("span",{class:"stat-card__sublabel"},"entries",-1))]),e("div",{class:F(["stat-card-wrap stat-card-wrap--rejected",{"stat-card-wrap--has-rejected":O.value>0}])},[O.value>0?(i(),d("span",Sa,[...t[25]||(t[25]=[e("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 5v14M5 12l7 7 7-7"})],-1)])])):y("",!0),e("button",{type:"button",class:F(["stat-card stat-card--rejected stat-card--clickable",{"stat-card--booklet":O.value>1}]),disabled:O.value===0,"aria-label":O.value>1?`Open ${O.value} rejected entries in booklet`:O.value===1?"Open rejected entry":"No rejected entries",onClick:ae},[t[27]||(t[27]=e("span",{class:"stat-card__label"},"Rejected",-1)),e("span",Ta,v(O.value),1),t[28]||(t[28]=e("span",{class:"stat-card__sublabel"},"entries",-1)),O.value>0?(i(),d("span",Na,[...t[26]||(t[26]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)])])):y("",!0)],10,Ma)],2),e("div",ja,[t[29]||(t[29]=e("span",{class:"stat-card__label"},"Approved",-1)),e("span",Ba,v(Lt.value),1),t[30]||(t[30]=e("span",{class:"stat-card__sublabel"},"entries",-1))])]),e("div",Ra,[w(s,{to:"/vendors",class:"stat-card stat-card--vendors stat-card--link stats-dashboard__vendors","aria-label":"View vendors"},{default:ct(()=>[t[31]||(t[31]=e("span",{class:"stat-card__label"},"Vendors",-1)),e("span",La,v(r.value),1),t[32]||(t[32]=e("span",{class:"stat-card__sublabel"},"vendors",-1)),t[33]||(t[33]=e("span",{class:"stat-card__action-icon stat-card__action-icon--vendors","aria-hidden":"true"},[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1))]),_:1})])]),e("section",Aa,[e("div",Pa,[e("div",Va,[e("button",{type:"button",class:"chart-calendar__nav","aria-label":"Previous month",onClick:ne},[...t[34]||(t[34]=[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e("span",Ia,v(le.value),1),e("button",{type:"button",class:"chart-calendar__nav","aria-label":"Next month",onClick:re},[...t[35]||(t[35]=[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M9 18l6-6-6-6"})],-1)])])]),e("div",Fa,[(i(),d($,null,G(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=>e("span",{key:o,class:"chart-calendar__weekday"},v(o),1)),64))]),e("div",Ga,[(i(!0),d($,null,G(se.value,(o,n)=>(i(),d($,{key:n},[(i(!0),d($,null,G(o,(l,h)=>(i(),d("button",{key:n*7+h,type:"button",class:F(["chart-calendar__day",{"chart-calendar__day--empty":!l,"chart-calendar__day--selected":l==null?void 0:l.isSelected,"chart-calendar__day--today":(l==null?void 0:l.isToday)&&!(l!=null&&l.isSelected)}]),disabled:!l,onClick:u=>l&&ie(l.dateKey)},v(l?l.day:""),11,Ha))),128))],64))),128))]),e("button",{type:"button",class:"chart-calendar__today",onClick:de}," Today ")]),e("div",Oa,[e("div",Ea,[e("button",{type:"button",class:F(["daily-chart-metric-btn",{"daily-chart-metric-btn--active":ut.value==="posted"}]),onClick:t[0]||(t[0]=o=>ut.value="posted")}," Posted ",2),e("button",{type:"button",class:F(["daily-chart-metric-btn",{"daily-chart-metric-btn--active":ut.value==="approved"}]),onClick:t[1]||(t[1]=o=>ut.value="approved")}," Approved ",2)]),w(la,{data:ut.value==="posted"?ve.value:fe.value,currency:ut.value==="posted"?_e.value:zt.value,"total-label":ut.value==="posted"?pe.value:he.value,"date-label":ue.value,"chart-type":ut.value,"x-axis-mode":"vendor"},null,8,["data","currency","total-label","date-label","chart-type"])])]),e("div",za,[e("div",Wa,[e("div",qa,[e("div",{class:F(["search-bar__wrap",{"search-bar__wrap--has-value":x.value}])},[t[37]||(t[37]=e("span",{class:"search-bar__icon","aria-hidden":"true"},[e("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Bt(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>x.value=o),type:"search",class:"search-bar__input",placeholder:me.value,autocomplete:"off","aria-label":`Search ${b.value} entries`},null,8,Ya),[[Ne,x.value,void 0,{trim:!0}]]),x.value?(i(),d("button",{key:0,type:"button",class:"search-bar__clear","aria-label":"Clear search",onClick:t[3]||(t[3]=o=>x.value="")},[...t[36]||(t[36]=[e("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):y("",!0)],2),x.value?(i(),d("p",Ka,[Wt.value?(i(),d($,{key:0},[tt.value.length>0?(i(),d("span",Ua,v(tt.value.length)+" in Draft",1)):y("",!0),tt.value.length>0&&(K.value.length>0||E.value.length>0||z.value.length>0)?(i(),d($,{key:1},[I(" · ")],64)):y("",!0),K.value.length>0?(i(),d("span",Xa,v(K.value.length)+" in Posted",1)):y("",!0),K.value.length>0&&(E.value.length>0||z.value.length>0)?(i(),d($,{key:3},[I(" · ")],64)):y("",!0),E.value.length>0?(i(),d("span",Ja,v(E.value.length)+" in Rejected",1)):y("",!0),E.value.length>0&&z.value.length>0?(i(),d($,{key:5},[I(" · ")],64)):y("",!0),z.value.length>0?(i(),d("span",Qa,v(z.value.length)+" in Approved",1)):y("",!0),ye.value&&Wt.value?(i(),d("span",Za," — switch tab to see them ")):y("",!0)],64)):(i(),d($,{key:1},[I("No matches in any tab")],64))])):y("",!0)]),e("div",to,[e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'draft'","aria-controls":"panel-draft",id:"tab-draft",class:F(["segment-control__segment",{"segment-control__segment--active":b.value==="draft"}]),onClick:t[4]||(t[4]=o=>b.value="draft")},[t[38]||(t[38]=e("span",{class:"segment-control__label"},"Draft",-1)),e("span",eo,v(x.value?`${tt.value.length} of ${rt.value.length}`:rt.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'posted'","aria-controls":"panel-posted",id:"tab-posted",class:F(["segment-control__segment",{"segment-control__segment--active":b.value==="posted"}]),onClick:t[5]||(t[5]=o=>b.value="posted")},[t[39]||(t[39]=e("span",{class:"segment-control__label"},"Posted",-1)),e("span",ao,v(x.value?`${K.value.length} of ${J.value.length}`:J.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'rejected'","aria-controls":"panel-rejected",id:"tab-rejected",class:F(["segment-control__segment",{"segment-control__segment--active":b.value==="rejected"}]),onClick:t[6]||(t[6]=o=>b.value="rejected")},[t[40]||(t[40]=e("span",{class:"segment-control__label"},"Rejected",-1)),e("span",oo,v(x.value?`${E.value.length} of ${it.value.length}`:it.value.length),1)],2),e("button",{type:"button",role:"tab","aria-selected":"activeSegment === 'approved'","aria-controls":"panel-approved",id:"tab-approved",class:F(["segment-control__segment",{"segment-control__segment--active":b.value==="approved"}]),onClick:t[7]||(t[7]=o=>b.value="approved")},[t[41]||(t[41]=e("span",{class:"segment-control__label"},"Approved",-1)),e("span",so,v(x.value?`${z.value.length} of ${Q.value.length}`:Q.value.length),1)],2)])]),Bt(e("section",lo,[L(C).selectedCount>0?(i(),d("div",no,[e("button",{type:"button",class:"pill-btn inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white shadow-md hover:bg-orange-600 transition-colors",onClick:U},[t[42]||(t[42]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),I(" Open booklet ("+v(L(C).selectedCount)+") ",1)]),e("button",{type:"button",class:"text-[var(--label-size)] font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors",onClick:t[8]||(t[8]=o=>L(C).clearSelection())}," Clear selection ")])):y("",!0),tt.value.length>0?(i(),d("div",ro,[(i(!0),d($,null,G(ge.value,(o,n)=>(i(),d("div",{key:o.recordId||`d-${n}`,class:F(["list-view__row list-row list-row--draft group px-4 py-3.5",L(C).isSelected(o.fieldData.TransRef??"")?"bg-orange-500/5 border-l-4 border-l-orange-500":"border-l-4 border-l-transparent"])},[e("button",{type:"button",class:F(["flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:ring-offset-2 focus:ring-offset-[var(--color-bg)]",L(C).isSelected(o.fieldData.TransRef??"")?"border-orange-500 bg-orange-500/20 text-orange-400":"border-[var(--color-border)] text-transparent hover:border-[var(--color-text-muted)]"]),"aria-label":L(C).isSelected(o.fieldData.TransRef??"")?"Remove from booklet":"Add to booklet",onClick:Pe(l=>L(C).toggleSelected(o.fieldData.TransRef??""),["stop"])},[L(C).isSelected(o.fieldData.TransRef??"")?(i(),d("svg",uo,[...t[43]||(t[43]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):y("",!0)],10,io),e("span",co,v(o.fieldData.VendorName||"—"),1),e("div",vo,[e("div",po,[t[44]||(t[44]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,fo)]),e("div",ho,[t[45]||(t[45]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,_o)]),e("div",mo,[t[46]||(t[46]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",yo,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(vt)(o.fieldData.Total)}`.trim():"—"),1)])]),w(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end",onClick:l=>kt(o.fieldData.TransRef??"")},{default:ct(()=>[...t[47]||(t[47]=[I(" Open ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to","onClick"])],2))),128))])):y("",!0),Mt.value>1?(i(),d("div",go,[e("button",{type:"button",class:"pagination__btn",disabled:N.value<=1,"aria-label":"Previous page",onClick:t[9]||(t[9]=o=>N.value=Math.max(1,N.value-1))},[...t[48]||(t[48]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,bo),e("span",xo," Page "+v(N.value)+" of "+v(Mt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:N.value>=Mt.value,"aria-label":"Next page",onClick:t[10]||(t[10]=o=>N.value=Math.min(Mt.value,N.value+1))},[...t[49]||(t[49]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,wo)])):y("",!0),tt.value.length===0?(i(),d("p",ko,v(x.value?"No matching draft entries.":"No draft payables."),1)):y("",!0)],512),[[Pt,b.value==="draft"]]),Bt(e("section",Do,[K.value.length>0?(i(),d("div",Co,[(i(!0),d($,null,G(be.value,(o,n)=>(i(),d("div",{key:o.recordId||`p-${n}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",$o,[t[50]||(t[50]=e("span",{class:"flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-400",title:"Posted"},[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),e("span",So,v(o.fieldData.VendorName||"—"),1)]),e("div",Mo,[e("div",To,[t[51]||(t[51]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,No)]),e("div",jo,[t[52]||(t[52]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,Bo)]),e("div",Ro,[t[53]||(t[53]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",Lo,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(vt)(o.fieldData.Total)}`.trim():"—"),1)])]),w(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-text-muted)] no-underline opacity-80 group-hover:opacity-100 group-hover:text-[var(--color-text)] transition-all justify-self-end"},{default:ct(()=>[...t[54]||(t[54]=[I(" View ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):y("",!0),Tt.value>1?(i(),d("div",Ao,[e("button",{type:"button",class:"pagination__btn",disabled:j.value<=1,"aria-label":"Previous page",onClick:t[11]||(t[11]=o=>j.value=Math.max(1,j.value-1))},[...t[55]||(t[55]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Po),e("span",Vo," Page "+v(j.value)+" of "+v(Tt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:j.value>=Tt.value,"aria-label":"Next page",onClick:t[12]||(t[12]=o=>j.value=Math.min(Tt.value,j.value+1))},[...t[56]||(t[56]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Io)])):y("",!0),K.value.length===0?(i(),d("p",Fo,v(x.value?"No matching posted entries.":"No posted payables yet."),1)):y("",!0)],512),[[Pt,b.value==="posted"]]),Bt(e("section",Go,[E.value.length>0?(i(),d("div",Ho,[(i(!0),d($,null,G(xe.value,(o,n)=>(i(),d("div",{key:o.recordId||`r-${n}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",Oo,v(o.fieldData.VendorName||"—"),1),e("div",Eo,[e("div",zo,[t[57]||(t[57]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,Wo)]),e("div",qo,[t[58]||(t[58]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,Yo)]),e("div",Ko,[t[59]||(t[59]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",Uo,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(vt)(o.fieldData.Total)}`.trim():"—"),1)])]),w(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end"},{default:ct(()=>[...t[60]||(t[60]=[I(" Open ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):y("",!0),Nt.value>1?(i(),d("div",Xo,[e("button",{type:"button",class:"pagination__btn",disabled:P.value<=1,"aria-label":"Previous page",onClick:t[13]||(t[13]=o=>P.value=Math.max(1,P.value-1))},[...t[61]||(t[61]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Jo),e("span",Qo,"Page "+v(P.value)+" of "+v(Nt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:P.value>=Nt.value,"aria-label":"Next page",onClick:t[14]||(t[14]=o=>P.value=Math.min(Nt.value,P.value+1))},[...t[62]||(t[62]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Zo)])):y("",!0),E.value.length===0?(i(),d("p",ts,v(x.value?"No matching rejected entries.":"No rejected payables."),1)):y("",!0)],512),[[Pt,b.value==="rejected"]]),Bt(e("section",es,[z.value.length>0?(i(),d("div",as,[(i(!0),d($,null,G(we.value,(o,n)=>(i(),d("div",{key:o.recordId||`a-${n}`,class:"list-view__row list-row group px-4 py-3.5"},[e("span",os,v(o.fieldData.VendorName||"—"),1),e("div",ss,[e("div",ls,[t[63]||(t[63]=e("span",{class:"list-row__meta-label"},"Vendor ID",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.VendorID||""},v(o.fieldData.VendorID||"—"),9,ns)]),e("div",rs,[t[64]||(t[64]=e("span",{class:"list-row__meta-label"},"Ref",-1)),e("span",{class:"list-row__meta-value truncate",title:o.fieldData.TransRef||""},v(o.fieldData.TransRef||"—"),9,is)]),e("div",ds,[t[65]||(t[65]=e("span",{class:"list-row__meta-label"},"Total",-1)),e("span",us,v(o.fieldData.Total!=null?`${o.fieldData.Currency??""} ${L(vt)(o.fieldData.Total)}`.trim():"—"),1)])]),w(s,{to:{name:"entry",query:{transRef:o.fieldData.TransRef??""}},class:"pill-btn glass-input inline-flex items-center justify-end gap-1.5 px-3.5 py-2 text-[var(--label-size)] font-medium text-[var(--color-accent)] no-underline opacity-90 group-hover:opacity-100 transition-opacity justify-self-end"},{default:ct(()=>[...t[66]||(t[66]=[I(" View ",-1),e("svg",{class:"h-3.5 w-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))),128))])):y("",!0),jt.value>1?(i(),d("div",cs,[e("button",{type:"button",class:"pagination__btn",disabled:V.value<=1,"aria-label":"Previous page",onClick:t[15]||(t[15]=o=>V.value=Math.max(1,V.value-1))},[...t[67]||(t[67]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,vs),e("span",ps,"Page "+v(V.value)+" of "+v(jt.value),1),e("button",{type:"button",class:"pagination__btn",disabled:V.value>=jt.value,"aria-label":"Next page",onClick:t[16]||(t[16]=o=>V.value=Math.min(jt.value,V.value+1))},[...t[68]||(t[68]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,fs)])):y("",!0),z.value.length===0?(i(),d("p",hs,v(x.value?"No matching approved entries.":"No approved payables."),1)):y("",!0)],512),[[Pt,b.value==="approved"]])])]))])}}});export{ys as default};
