import{d as Ne,u as Ue,H as G,o as Fe,L as P,c as r,e,g as w,h as Le,m as ve,s as J,q as x,f as te,p as S,v as $,a2 as se,F as Q,B as Z,t as d,I as me,w as ae,R as pe,k as Be,x as Te,r as i,i as le,M as Ie,j as o,N as E,_ as Ve}from"./index-B7jQKMlp.js";const De={class:"content-area flex flex-col flex-1 min-h-0 w-full max-w-[1600px] mx-auto px-4 py-5 md:px-6 md:py-6 min-h-[400px]"},je={class:"flex flex-wrap items-end justify-between gap-4 mb-6"},qe={key:0,class:"tax-search-bar mb-4"},Oe={class:"tax-search-bar__row"},Ye={class:"tax-search-bar__filter-wrap"},$e=["value"],ze={class:"tax-search-bar__filter-wrap"},He={key:0,class:"tax-search-bar__hint"},We={class:"tax-table-wrap"},Ge={key:0,class:"tax-table-skeleton"},Je={class:"tax-table"},Qe={key:1,class:"tax-table-error"},Ze={key:2,class:"tax-table-empty"},Ke={key:3,class:"tax-table-empty"},Xe={key:4,class:"tax-table-empty"},et={key:5},tt={class:"tax-table-scroll"},st={class:"tax-table"},at={class:"tax-table__actions-td"},lt=["aria-label","disabled","onClick"],ot={class:"tax-table__actions-td"},rt={class:"tax-table__action-buttons"},nt=["onClick"],it=["onClick"],ut={key:0,class:"pagination"},dt=["disabled"],ct={class:"pagination__label"},vt=["disabled"],mt={key:0,class:"tax-modal-backdrop"},pt=["aria-labelledby"],ft={class:"tax-modal__header"},ht=["id"],gt={key:0,class:"tax-modal__error",role:"alert"},_t={class:"tax-modal__error-text"},bt={class:"tax-modal__section"},wt={class:"tax-modal__label"},xt={class:"tax-modal__label"},kt={class:"tax-modal__label"},yt={class:"tax-modal__select-wrap"},St=["value"],Et={class:"tax-modal__actions"},Ct=["disabled"],Rt={key:0,class:"tax-modal-backdrop"},At={class:"tax-modal",role:"dialog","aria-labelledby":"reset-password-user-title","aria-modal":"true"},Pt={key:0,class:"tax-modal__error",role:"alert"},Mt={class:"tax-modal__error-text"},Nt={class:"tax-modal__section"},Ut={class:"tax-modal__section-title text-[var(--color-text-muted)] mb-2"},Ft={class:"text-[var(--color-text)]"},Lt={class:"tax-modal__label"},Bt={class:"tax-modal__label"},Tt={class:"tax-modal__actions"},It=["disabled"],Vt="123456789",fe="123456789",he=6,oe=10,Dt=Ne({__name:"SettingsUsersView",setup(jt){const ge=Be(),{findRecordsWithIds:_e,findRecordsByQueryWithIds:be,createRecord:we,updateRecord:re,runScript:ne,isConnected:M,loggedInEmail:xe}=Te(),ie=["Admin","Manager","Officer"],v=Ue(),N=i([]),B=i(!0),T=i(null),I=i(!1),h=i(null),c=i({Email:"",FullName:"",Role:"",Status:""}),_=i(null),V=i(!1),U=i(null),K=i(!1),D=i(""),k=i(""),j=i(""),y=i(null),q=i(!1),b=i(""),F=i(""),L=i(""),C={0:"","-1":"An unexpected error occurred. Please try again.",1:"Action was canceled.",2:"A system error occurred. Please try again.",3:"This operation is not available.",4:"Unknown command or operation.",5:"Invalid command or operation.",6:"File is read-only; changes are not allowed.",7:"Not enough memory to complete the operation.",9:"You do not have permission to perform this action.",10:"Required data is missing.",11:"Name or value is not valid.",12:"That name already exists.",13:"File or resource is in use. Please try again later.",14:"Value is out of range.",15:"Invalid calculation or value.",16:"Request failed; please try again.",18:"Account information is required to proceed.",19:"Value contains invalid characters.",20:"Operation was canceled.",21:"This request is not supported.",100:"File is missing.",101:"Record is missing.",102:"Field is missing.",103:"Relationship is missing.",104:"Script is missing.",105:"Layout is missing.",106:"Table is missing.",200:"Record access is denied.",201:"This field cannot be modified.",202:"Field access is denied.",206:"You do not have permission to change passwords.",208:"Password does not contain enough characters.",209:"New password must be different from the current one.",210:"User account is inactive.",211:"Password has expired.",212:"Invalid account or password.",214:"Too many login attempts. Account is temporarily locked.",217:"You do not have sufficient privileges to modify this account.",218:"Password and confirmation do not match.",300:"File is locked or in use. Please try again later.",301:"Record is in use by another user.",306:"Record was changed by another user. Please try again.",307:"New password is not allowed. Please choose a different password.",400:"Search criteria are empty.",401:"No matching record found.",500:"Entered value does not meet validation rules.",509:"This field requires a valid value.",714:"Your account does not have permission for this operation.",718:"Password does not meet requirements.",719:"You do not have permission to perform this operation.",723:"You do not have permission to add or modify records in the target table.",800:"Unable to create or access the file.",803:"Host could not be found or file is single-user.",805:"File is damaged. Contact your administrator.",809:"Disk is full.",812:"Server capacity exceeded. Please try again later.",814:"Too many files are open. Please try again later.",951:"An unexpected error occurred. Please try again.",952:"Session expired or invalid. Please sign in again.",953:"Data limit exceeded.",954:"Unsupported request format.",958:"A required parameter is missing.",959:"Web publishing is disabled for this file.",960:"Parameter is invalid.",1700:"The requested resource was not found.",1701:"Server is busy. Please try again later.",1702:"Authentication format is invalid. Please sign in again.",1703:"Invalid username, password, or token. Please sign in again.",1705:"A required header was not specified.",1707:"A required parameter was not specified.",1708:"Parameter value is invalid.",1710:"Request data is invalid. Please check your input.",1711:"Server license has expired. Contact your administrator."};function z(a){const t=String(a??"").trim();if(!t)return"Something went wrong. Please try again.";if(C[t]!==void 0)return C[t];const l=t.toLowerCase();return l.includes("212")||l.includes("invalid")&&(l.includes("password")||l.includes("account"))?C[212]:l.includes("213")||l.includes("user account")&&(l.includes("exist")||l.includes("lock"))?"User account does not exist or is locked.":l.includes("214")||l.includes("too many login")?C[214]:l.includes("307")||l.includes("718")||l.includes("password")&&l.includes("requirement")?C[307]:l.includes("privilege")||l.includes("permission")?C[9]:l.includes("expired")||l.includes("token")?C[952]:/^-?\d+$/.test(t)?"Something went wrong. Please try again.":t||"Something went wrong. Please try again."}const O=le(()=>{let a=N.value;const t=b.value.trim().toLowerCase(),l=F.value.trim(),s=L.value.trim();return l&&(a=a.filter(u=>{const n=u.fieldData;return String(n.Role??"").trim()===l})),s&&(a=a.filter(u=>{const n=u.fieldData;return String(n.Status??"").trim().toLowerCase()===s.toLowerCase()})),t?a.filter(u=>{const n=u.fieldData,g=String(n.Email??"").toLowerCase(),f=String(n.FullName??n["Full Name"]??"").toLowerCase(),m=String(n.Role??"").toLowerCase();return g.includes(t)||f.includes(t)||m.includes(t)}):a}),p=i(1),Y=le(()=>Math.max(1,Math.ceil(O.value.length/oe))),ke=le(()=>{const a=(p.value-1)*oe;return O.value.slice(a,a+oe)});G(()=>[b.value,F.value,L.value],()=>{p.value=1}),G(Y,a=>{p.value>a&&(p.value=Math.max(1,a))});function R(a,t){const l=a.fieldData,s=l[t]??l[t.replace(/([A-Z])/g," $1").trim()];return s==null||s===""?"—":String(s).trim()}function H(a){return R(a,"Status").toLowerCase()==="active"}async function ye(a){const t=R(a,"Email");if(!t)return;const l=a.recordId;if(U.value)return;const s=H(a),u=s?"Disable":"Enable";U.value=l;const n=JSON.stringify({email:t,action:u}),{error:g}=await ne(P.PAYABLES_USERS,"ActiveOrInactiveToggle",n);if(g){v.error("Toggle failed: "+g),U.value=null;return}const f=s?"Inactive":"Active",m=a.fieldData,{error:A}=await re(P.PAYABLES_USERS,l,{Email:String(m.Email??""),FullName:String(m.FullName??m["Full Name"]??""),Role:String(m.Role??""),Status:f});U.value=null,A?v.error("Account updated but status sync failed: "+A):v.success(f==="Active"?"User enabled.":"User disabled."),await W()}function ue(){de(),I.value=!0}function Se(a){const t=a.fieldData;c.value={Email:String(t.Email??""),FullName:String(t.FullName??t["Full Name"]??""),Role:String(t.Role??""),Status:String(t.Status??"")},h.value=a.recordId,_.value=null,I.value=!0}function X(){I.value=!1,h.value=null}function Ee(a){const t=R(a,"Email"),l=t==="—"||!t?"":t.trim();if(!l){v.error("Cannot reset password: no email for this user.");return}D.value=l,k.value=fe,j.value=fe,y.value=null,K.value=!0}function ee(){K.value=!1,D.value="",k.value="",j.value="",y.value=null}async function Ce(){if(!q.value){if(y.value=null,!D.value){y.value="No user selected.";return}if(!k.value.trim()){y.value="Enter a new password.";return}if(k.value.length<he){y.value=`New password must be at least ${he} characters.`;return}if(k.value!==j.value){v.error("New password and confirmation do not match.");return}q.value=!0;try{const a=JSON.stringify({email:D.value,password:k.value.trim()}),{error:t,scriptResult:l,scriptError:s,messageCode:u}=await ne(P.PAYABLES_USERS,"ResetPassword",a),n=(s??"0").trim();if(!(n==="0")){const m=z(n)||(u?z(u):"")||(t?z(t):"")||t||`Script error: ${n}`;v.error(m.trim()||"Something went wrong. Please try again.");return}const f=l==null?void 0:l.trim();if(f&&f!=="0"){const m=z(f);v.error(m);return}v.success("Password reset successfully."),ee()}finally{q.value=!1}}}function de(){h.value=null,c.value={Email:"",FullName:"",Role:"",Status:""},_.value=null}function Re(){var a,t;return(a=c.value.Email)!=null&&a.trim()?(t=c.value.Role)!=null&&t.trim()?null:"Role is required.":"Email is required."}async function Ae(){var l,s,u,n,g,f;if(V.value)return;if(!M.value){v.error("Not connected to FileMaker."),_.value=null;return}const a=Re();if(a){v.error(a),_.value=null;return}V.value=!0,_.value=null;const t=h.value?String(h.value).trim():null;try{const m={Email:(l=c.value.Email)==null?void 0:l.trim(),FullName:((s=c.value.FullName)==null?void 0:s.trim())||void 0,Role:((u=c.value.Role)==null?void 0:u.trim())||void 0,Status:t?((n=c.value.Status)==null?void 0:n.trim())||void 0:"Active"};if(t){const{error:A}=await re(P.PAYABLES_USERS,t,m);if(A){v.error(A),_.value=null;return}v.success("User updated successfully.")}else{const A=((g=c.value.Email)==null?void 0:g.trim())??"",Pe=((f=c.value.Role)==null?void 0:f.trim())??"",Me=JSON.stringify({email:A,password:Vt,role:Pe}),{error:ce}=await we(P.PAYABLES_USERS,m,{script:"CreateSecurityAccount",scriptParam:Me});if(ce){v.error(ce),_.value=null;return}v.success("User added successfully.")}X(),de(),await W()}finally{V.value=!1}}async function W(){if(!M.value){N.value=[],B.value=!1;return}B.value=!0,T.value=null;const{data:a,error:t}=await _e(P.PAYABLES_USERS,{limit:500});B.value=!1,t?(v.error(t),T.value=null,N.value=[]):N.value=a}return Fe(async()=>{var t,l;const a=xe.value;if(a&&M.value){const{data:s}=await be(P.PAYABLES_USERS,{Email:a},1),u=(((l=(t=s==null?void 0:s[0])==null?void 0:t.fieldData)==null?void 0:l.Role)??"").toString().trim().toLowerCase();if(u==="officer"||u==="manager"){ge.replace("/settings");return}}W()}),G(M,a=>{a&&W()}),G(I,a=>{a||(h.value=null)}),(a,t)=>{const l=Ie("router-link");return o(),r("div",De,[e("header",je,[e("div",null,[w(l,{to:"/settings",class:"inline-flex items-center gap-2 text-[var(--label-size)] text-[var(--color-text-muted)] hover:text-[var(--color-text)] no-underline mb-4 transition-colors"},{default:Le(()=>[...t[12]||(t[12]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),J(" Back to Settings ",-1)])]),_:1}),t[13]||(t[13]=e("h1",{class:"text-[1.75rem] font-bold tracking-tight text-[var(--color-text)] md:text-[2rem]",style:{"letter-spacing":"-0.025em","line-height":"1.2"}}," Manage Users ",-1)),t[14]||(t[14]=e("p",{class:"mt-1 text-[13px] text-[var(--color-text-muted)]"}," Add, edit, and remove user accounts. ",-1))]),ve(M)?(o(),r("button",{key:0,type:"button",class:"pill-btn inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white shadow-md hover:bg-orange-600 transition-colors",onClick:ue},[...t[15]||(t[15]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),J(" Add User ",-1)])])):x("",!0)]),!B.value&&!T.value&&N.value.length>0?(o(),r("div",qe,[e("div",Oe,[e("div",{class:te(["search-bar__wrap tax-search-bar__search",{"search-bar__wrap--has-value":b.value}])},[t[17]||(t[17]=e("span",{class:"search-bar__icon","aria-hidden":"true"},[e("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),type:"search",class:"search-bar__input",placeholder:"Search by email, name, role…",autocomplete:"off","aria-label":"Search users"},null,512),[[$,b.value,void 0,{trim:!0}]]),b.value?(o(),r("button",{key:0,type:"button",class:"search-bar__clear","aria-label":"Clear search",onClick:t[1]||(t[1]=s=>b.value="")},[...t[16]||(t[16]=[e("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):x("",!0)],2),e("div",Ye,[t[19]||(t[19]=e("span",{class:"tax-search-bar__filter-icon","aria-hidden":"true"},[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[e("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})])],-1)),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>F.value=s),class:"tax-search-bar__filter","aria-label":"Filter by role"},[t[18]||(t[18]=e("option",{value:""},"All roles",-1)),(o(),r(Q,null,Z(ie,s=>e("option",{key:s,value:s},d(s),9,$e)),64))],512),[[se,F.value]]),t[20]||(t[20]=e("span",{class:"tax-search-bar__filter-chevron","aria-hidden":"true"},[e("svg",{width:"12",height:"12",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})])],-1))]),e("div",ze,[t[22]||(t[22]=e("span",{class:"tax-search-bar__filter-icon","aria-hidden":"true"},[e("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[e("path",{d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z"})])],-1)),S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>L.value=s),class:"tax-search-bar__filter","aria-label":"Filter by status"},[...t[21]||(t[21]=[e("option",{value:""},"All statuses",-1),e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1)])],512),[[se,L.value]]),t[23]||(t[23]=e("span",{class:"tax-search-bar__filter-chevron","aria-hidden":"true"},[e("svg",{width:"12",height:"12",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})])],-1))])]),b.value||F.value||L.value?(o(),r("p",He,d(O.value.length)+" result"+d(O.value.length===1?"":"s"),1)):x("",!0)])):x("",!0),e("div",We,[B.value?(o(),r("div",Ge,[e("table",Je,[e("thead",null,[e("tr",null,[e("th",null,[w(E,{width:"8rem",height:"0.875rem",class:"rounded"})]),e("th",null,[w(E,{width:"10rem",height:"0.875rem",class:"rounded"})]),e("th",null,[w(E,{width:"5rem",height:"0.875rem",class:"rounded"})]),e("th",null,[w(E,{width:"5rem",height:"0.875rem",class:"rounded"})])])]),e("tbody",null,[(o(),r(Q,null,Z(5,s=>e("tr",{key:s,class:"tax-table-skeleton__row"},[e("td",null,[w(E,{width:"70%",height:"0.875rem",class:"rounded max-w-[12rem]"})]),e("td",null,[w(E,{width:"60%",height:"0.875rem",class:"rounded max-w-[10rem]"})]),e("td",null,[w(E,{width:"4rem",height:"0.875rem",class:"rounded"})]),e("td",null,[w(E,{width:"4rem",height:"0.875rem",class:"rounded"})])])),64))])])])):T.value?(o(),r("div",Qe,d(T.value),1)):ve(M)?N.value.length===0?(o(),r("div",Ke,[t[25]||(t[25]=e("p",null,"No users yet.",-1)),e("button",{type:"button",class:"pill-btn mt-2 inline-flex items-center gap-2 rounded-full bg-orange-500 px-4 py-2.5 text-[var(--label-size)] font-semibold text-white shadow-md hover:bg-orange-600 transition-colors",onClick:ue}," Add your first user ")])):O.value.length===0?(o(),r("div",Xe,[t[26]||(t[26]=e("p",null,"No matching users.",-1)),e("button",{type:"button",class:"pill-btn mt-2 text-[var(--color-text-muted)] hover:text-[var(--color-text)]",onClick:t[4]||(t[4]=s=>{b.value="",F.value="",L.value=""})}," Clear filters ")])):(o(),r("div",et,[e("div",tt,[e("table",st,[t[30]||(t[30]=e("thead",null,[e("tr",null,[e("th",null,"Email"),e("th",null,"Full Name"),e("th",null,"Role"),e("th",null,"Status"),e("th",{class:"tax-table__actions-th"},"Active"),e("th",{class:"tax-table__actions-th"})])],-1)),e("tbody",null,[(o(!0),r(Q,null,Z(ke.value,(s,u)=>(o(),r("tr",{key:s.recordId||u},[e("td",null,d(R(s,"Email")),1),e("td",null,d(R(s,"FullName")),1),e("td",null,d(R(s,"Role")),1),e("td",null,[e("span",{class:te(["status-badge",H(s)?"status-badge--active":"status-badge--inactive"])},d(R(s,"Status")||"—"),3)]),e("td",at,[e("button",{type:"button",class:te(["user-toggle",{"user-toggle--on":H(s),"user-toggle--busy":U.value===s.recordId}]),"aria-label":H(s)?"Disable user":"Enable user",disabled:U.value===s.recordId,onClick:n=>ye(s)},[...t[27]||(t[27]=[e("span",{class:"user-toggle__track"},[e("span",{class:"user-toggle__thumb"})],-1)])],10,lt)]),e("td",ot,[e("div",rt,[e("button",{type:"button",class:"tax-table__edit-btn","aria-label":"Edit",onClick:n=>Se(s)},[...t[28]||(t[28]=[e("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),J(" Edit ",-1)])],8,nt),e("button",{type:"button",class:"tax-table__edit-btn tax-table__edit-btn--icon","aria-label":"Reset password",onClick:ae(n=>Ee(s),["stop"])},[...t[29]||(t[29]=[e("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l11.964-11.964A6 6 0 1121 9z"})],-1)])],8,it)])])]))),128))])])]),Y.value>1?(o(),r("div",ut,[e("button",{type:"button",class:"pagination__btn",disabled:p.value<=1,"aria-label":"Previous page",onClick:t[5]||(t[5]=s=>p.value=Math.max(1,p.value-1))},[...t[31]||(t[31]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,dt),e("span",ct," Page "+d(p.value)+" of "+d(Y.value),1),e("button",{type:"button",class:"pagination__btn",disabled:p.value>=Y.value,"aria-label":"Next page",onClick:t[6]||(t[6]=s=>p.value=Math.min(Y.value,p.value+1))},[...t[32]||(t[32]=[e("svg",{class:"pagination__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,vt)])):x("",!0)])):(o(),r("div",Ze,[...t[24]||(t[24]=[e("p",null,"Connect to FileMaker to view users.",-1)])]))]),(o(),me(pe,{to:"body"},[I.value?(o(),r("div",mt,[e("div",{class:"tax-modal",role:"dialog","aria-labelledby":h.value?"edit-user-title":"add-user-title","aria-modal":"true"},[e("header",ft,[e("h2",{id:h.value?"edit-user-title":"add-user-title",class:"tax-modal__title"},d(h.value?"Edit User":"Add User"),9,ht),e("button",{type:"button",class:"tax-modal__close","aria-label":"Close",onClick:X},[...t[33]||(t[33]=[e("svg",{class:"tax-modal__close-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),_.value?(o(),r("div",gt,[t[34]||(t[34]=e("svg",{class:"tax-modal__error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",_t,d(_.value),1)])):x("",!0),e("form",{class:"tax-modal__form",onSubmit:ae(Ae,["prevent"])},[e("section",bt,[t[40]||(t[40]=e("h3",{class:"tax-modal__section-title"},"User details",-1)),e("label",wt,[t[35]||(t[35]=e("span",null,"Email",-1)),S(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>c.value.Email=s),type:"email",class:"glass-input w-full px-3 py-2.5 rounded-lg",placeholder:"email@example.com",required:""},null,512),[[$,c.value.Email]])]),e("label",xt,[t[36]||(t[36]=e("span",null,"Full Name",-1)),S(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>c.value.FullName=s),type:"text",class:"glass-input w-full px-3 py-2.5 rounded-lg",placeholder:"Full name"},null,512),[[$,c.value.FullName]])]),e("label",kt,[t[39]||(t[39]=e("span",null,"Role",-1)),e("div",yt,[S(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>c.value.Role=s),class:"tax-modal__select","aria-label":"User role"},[t[37]||(t[37]=e("option",{value:""},"Select role",-1)),(o(),r(Q,null,Z(ie,s=>e("option",{key:s,value:s},d(s),9,St)),64))],512),[[se,c.value.Role]]),t[38]||(t[38]=e("span",{class:"tax-modal__select-chevron","aria-hidden":"true"},[e("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})])],-1))])])]),e("div",Et,[e("button",{type:"button",class:"tax-modal__btn-cancel",onClick:X},"Cancel"),e("button",{type:"submit",class:"tax-modal__btn-submit",disabled:V.value},d(V.value?"Saving…":h.value?"Save":"Add User"),9,Ct)])],32)],8,pt)])):x("",!0)])),(o(),me(pe,{to:"body"},[K.value?(o(),r("div",Rt,[e("div",At,[e("header",{class:"tax-modal__header"},[t[42]||(t[42]=e("h2",{id:"reset-password-user-title",class:"tax-modal__title"},"Reset password",-1)),e("button",{type:"button",class:"tax-modal__close","aria-label":"Close",onClick:ee},[...t[41]||(t[41]=[e("svg",{class:"tax-modal__close-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),y.value?(o(),r("div",Pt,[t[43]||(t[43]=e("svg",{class:"tax-modal__error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",Mt,d(y.value),1)])):x("",!0),e("form",{class:"tax-modal__form",onSubmit:ae(Ce,["prevent"])},[e("section",Nt,[e("p",Ut,[t[44]||(t[44]=J(" Set a new password for ",-1)),e("strong",Ft,d(D.value),1)]),e("label",Lt,[t[45]||(t[45]=e("span",null,"New password",-1)),S(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>k.value=s),type:"password",class:"glass-input w-full px-3 py-2.5 rounded-lg",placeholder:"Enter new password",autocomplete:"new-password"},null,512),[[$,k.value]])]),e("label",Bt,[t[46]||(t[46]=e("span",null,"Confirm new password",-1)),S(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>j.value=s),type:"password",class:"glass-input w-full px-3 py-2.5 rounded-lg",placeholder:"Confirm new password",autocomplete:"new-password"},null,512),[[$,j.value]])])]),e("div",Tt,[e("button",{type:"button",class:"tax-modal__btn-cancel",onClick:ee},"Cancel"),e("button",{type:"submit",class:"tax-modal__btn-submit",disabled:q.value},d(q.value?"Resetting…":"Reset password"),9,It)])],32)])])):x("",!0)]))])}}}),Ot=Ve(Dt,[["__scopeId","data-v-90e1981b"]]);export{Ot as default};
